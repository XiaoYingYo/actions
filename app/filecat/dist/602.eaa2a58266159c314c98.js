/*! For license information please see 602.eaa2a58266159c314c98.js.LICENSE.txt */
"use strict";(self.webpackChunkfilecat=self.webpackChunkfilecat||[]).push([[602],{1251:(t,e,n)=>{n.d(e,{s:()=>f});var r=n(2635),o=1,a=60*o,i=24*a,c=30*i,l=365*i,u=6e4;function f(t){t=t>1e12?t:1e3*t;var e=Date.now(),n=Math.abs(e-t)/u;return n<o?r.Ay.t("小于一分钟"):n<a?"".concat(n.toFixed(0)," ").concat(r.Ay.t("分钟前")):n<i?"".concat((n/a).toFixed(0)," ").concat(r.Ay.t("小时前")):n<c?"".concat((n/i).toFixed(0)," ").concat(r.Ay.t("天前")):n<l?"".concat((n/c).toFixed(0)," ").concat(r.Ay.t("月前")):"".concat((n/l).toFixed(0)," ").concat(r.Ay.t("年前"))}},5726:(t,e,n)=>{function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t){return new Promise(function(e){var n=0,o=[];if(void 0!==t.items){var a,i=r(t.items);try{for(i.s();!(a=i.n()).done;){var c=a.value;if("file"===c.kind&&"function"==typeof c.webkitGetAsEntry)l(c.webkitGetAsEntry())}}catch(t){i.e(t)}finally{i.f()}}else e(t.files);function l(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t.isFile)n++,t.file(function(t){n--,t.fullPath="".concat(r).concat(t.name),o.push(t),0===n&&e(o)});else if(t.isDirectory){var a={isDir:!0,size:0,fullPath:"".concat(r).concat(t.name),name:t.name};o.push(a),u(t.createReader(),"".concat(r).concat(t.name))}}function u(t,a){n++,t.readEntries(function(i){if(n--,i.length>0){var c,f=r(i);try{for(f.s();!(c=f.n()).done;){l(c.value,"".concat(a,"/"))}}catch(t){f.e(t)}finally{f.f()}u(t,"".concat(a,"/"))}0===n&&e(o)})}})}function i(t){return new Promise(function(e,n){var r=document.createElement("script");r.src=t,r.async=!0,r.onload=function(){e(null),console.log("脚本加载完成")},r.onerror=function(){n(n),console.error("脚本加载失败")},document.body.appendChild(r)})}n.d(e,{J:()=>i,T:()=>a})},7374:(t,e,n)=>{n.d(e,{e:()=>d});var r=n(6540),o=n(7767),a=n(4976),i=n(4694),c=n(4289),l=n(3033),u=n(5725);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function d(t){var e=(0,o.zy)(),n=f((0,r.useState)([]),2),s=n[0],d=n[1],m=f((0,r.useState)("/"),2),y=m[0],v=m[1],p=f((0,r.useState)(void 0),2),h=p[0],b=p[1];r.useEffect(function(){var e="",n=(0,c.vX)().split("/");n=n.filter(function(t){return t});var r=n.indexOf(t.baseRoute),o=[];if(-1!=r){e=(0,i.IO)(n.slice(0,r),t.baseRoute);for(var a=n.slice(r+1),l=0;l<a.length;l++){var u=a[l];o.push({value:u,href:0===l?"".concat(e).concat(u,"/"):(0,i.IO)(o[l-1].href,u)})}v(e),d(o)}},[e]);var g=function(e){e.stopPropagation(),t.clickFun(e)};return r.createElement("div",{className:"breadcrumbs",onClick:function(t){b(void 0!==h?void 0:"")}},r.createElement(r.Fragment,null,void 0===h?r.createElement(r.Fragment,null,r.createElement("span",{className:"chevron"},r.createElement(a.N_,{to:y,onClick:g},r.createElement("i",{className:"material-icons"},"home"))),s.map(function(t,e){return r.createElement("span",{className:"chevron",key:e},r.createElement("i",{className:"material-icons"},"keyboard_arrow_right"),r.createElement(a.N_,{to:t.href,onClick:g},decodeURIComponent(t.value)))})):r.createElement(u.QM,{click:function(){b(void 0)},children:r.createElement(l.Sm,{width:"100%",maxWidth:"60%",placeholder:"输入跳转的目录",handlerEnter:function(e){t.input_path_enter&&t.input_path_enter(e),b(void 0)}})})))}},8844:(t,e,n)=>{n.d(e,{B:()=>b});var r=n(6540),o=n(7022),a=n(7444),i=n(4694),c=n(6417),l=n(6007);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(null,arguments)}function f(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var l=r&&r.prototype instanceof c?r:c,u=Object.create(l.prototype);return d(u,"_invoke",function(n,r,o){var a,c,l,u=0,f=o||[],s=!1,d={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return a=e,c=0,l=t,d.n=n,i}};function m(n,r){for(c=n,l=r,e=0;!s&&u&&!o&&e<f.length;e++){var o,a=f[e],m=d.p,y=a[2];n>3?(o=y===r)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,d.v=r,d.n=a[1]):m<y&&(o=n<3||a[0]>r||r>y)&&(a[4]=n,a[5]=r,d.n=y,c=0))}if(o||n>1)return i;throw s=!0,r}return function(o,f,y){if(u>1)throw TypeError("Generator is already running");for(s&&1===f&&m(f,y),c=f,l=y;(e=c<2?t:l)||!s;){a||(c?c<3?(c>1&&(d.n=-1),m(c,l)):d.n=l:d.v=l);try{if(u=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(s=d.n<0)?l:n.call(r,d))!==i)break}catch(e){a=t,c=1,l=e}finally{u=1}}return{value:e,done:s}}}(n,o,a),!0),u}var i={};function c(){}function l(){}function u(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(d(e={},r,function(){return this}),e),m=u.prototype=c.prototype=Object.create(f);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,d(t,o,"GeneratorFunction")),t.prototype=Object.create(m),t}return l.prototype=u,d(m,"constructor",u),d(u,"constructor",l),l.displayName="GeneratorFunction",d(u,o,"GeneratorFunction"),d(m),d(m,o,"Generator"),d(m,r,function(){return this}),d(m,"toString",function(){return"[object Generator]"}),(s=function(){return{w:a,m:y}})()}function d(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}d=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){d(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},d(t,e,n,r)}function m(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){m(a,r,o,i,c,"next",t)}function c(t){m(a,r,o,i,c,"throw",t)}i(void 0)})}}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return h(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function b(t){var e,n,d=v((0,a.L4)(c.A.selectedFileList),2),m=d[0],p=d[1],h=v((0,a.L4)(c.A.nowFileList),2),b=h[0],g=(h[1],v((0,a.L4)(c.A.confirm),2)),w=(g[0],g[1]),E=v((0,a.L4)(c.A.user_base_info),2),A=E[0];E[1];function S(){return(S=y(s().m(function e(n){return s().w(function(e){for(;;)switch(e.n){case 0:t.click&&t.click(n,t.name);case 1:return e.a(2)}},e)}))).apply(this,arguments)}return r.createElement("div",u({},t.extraAttr,{onClick:function(){!function(t){S.apply(this,arguments)}(t.index)},className:"item",role:"button","data-type":t.isLink?"invalid_link":t.type,"data-dir":!t.type||t.type===o.Iw.folder,"aria-selected":null!==(0,i.kW)(m,t.index),"aria-label":t.name,style:{"--filewidth":null!==(e=t.itemWidth)&&void 0!==e?e:"33%"},onDragStart:function(e){return n=t.index,void(m.find(function(t){return t===n})||p([].concat(f(m),[n])));var n},onDrop:function(e){return function(e,n){for(var r,o=e.dataTransfer,a=!1,i=0;i<o.items.length;i++)if("file"===o.items[i].kind){a=!0;break}a||b.folders.length<=n||w({open:!0,title:"确定将文件移动并覆盖到".concat(b.folders[n].name,"吗?"),handle:(r=y(s().m(function e(){return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.draggable_handle(b.folders[n].name);case 1:return e.a(2)}},e)})),function(){return r.apply(this,arguments)})})}(e,t.index)},draggable:void 0!==t.draggable_handle}),void 0===t.icon&&r.createElement("div",null,t.type!==o.Iw.image||null==t.path||null!=A&&null!==(n=A.user_data)&&void 0!==n&&n.not_pre_show_image?r.createElement("i",{className:"material-icons"}):r.createElement("img",{loading:"lazy",src:l.$M.getDownloadUrl(t.path,{mtime:t.mtime,cache:1}),alt:t.name})),void 0!==t.icon&&r.createElement("div",{className:"rotating-div"},r.createElement("span",{className:"material-icons"},t.icon)),r.createElement("div",null,r.createElement("p",{className:"name"},t.name),t.size?r.createElement("p",null,t.size):r.createElement("p",null,"—"),r.createElement("p",null,t.show_mtime)),t.children)}}}]);