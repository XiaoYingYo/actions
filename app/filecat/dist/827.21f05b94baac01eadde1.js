/*! For license information please see 827.21f05b94baac01eadde1.js.LICENSE.txt */
"use strict";(self.webpackChunkfilecat=self.webpackChunkfilecat||[]).push([[827],{2827:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Nt});var r=n(6540),o=n(5725),a=n(3033),i=n(5997),c=n(3413),u=n.n(c),l=n(7952),s=n(6007),f=n(8694),d=n(3459),p=n(3029),m=n(2389),y=n(6417),h=n(7444),v=n(8247),b=n(3430),w=n(2042);function g(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return _(l,"_invoke",function(n,r,o){var a,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,c=0,u=e,d.n=n,i}};function p(n,r){for(c=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],p=d.p,m=a[2];n>3?(o=m===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,d.n=m,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,u=m;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(_(t={},r,function(){return this}),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,_(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,_(f,"constructor",l),_(l,"constructor",u),u.displayName="GeneratorFunction",_(l,o,"GeneratorFunction"),_(f),_(f,o,"Generator"),_(f,r,function(){return this}),_(f,"toString",function(){return"[object Generator]"}),(g=function(){return{w:a,m:d}})()}function _(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){_(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},_(e,t,n,r)}function S(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){S(a,r,o,i,c,"next",e)}function c(e){S(a,r,o,i,c,"throw",e)}i(void 0)})}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t=(0,m.Bd)().t,n=k((0,h.L4)(y.A.header_min),2),c=(n[0],n[1]),_=k((0,r.useState)(""),2),S=_[0],A=_[1],N=k((0,r.useState)(""),2),x=N[0],K=N[1],O=k((0,r.useState)(void 0),2),j=O[0],L=O[1],F=k((0,r.useState)(!1),2),C=F[0],P=F[1],D=(0,v.MH)().check_user_auth,I=function(){var e=E(g().m(function e(){var t;return g().w(function(e){for(;;)switch(e.n){case 0:return(t=new f.qB).targetProxyUrl="string"==typeof S?S:x,e.n=1,s._U.post("close",t);case 1:if(e.v.code===d.m.Sucess){e.n=2;break}return e.a(2);case 2:K(""),c(!1);case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=E(g().m(function e(t){var n,r,o;return g().w(function(e){for(;;)switch(e.n){case 0:if((n=new f.qB).targetProxyUrl="string"==typeof t?t:S,n.targetProxyUrl.startsWith("http")){e.n=1;break}return(0,w.zN)("must start with http[s]://"),e.a(2);case 1:return n.sysProxyPort=j,e.n=2,s._U.post("start",n);case 2:if((r=e.v).code===d.m.Sucess){e.n=3;break}return e.a(2);case 3:o="".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(r.data),K(o);case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)(function(){return function(){I()}},[]);var M=function(){var e=E(g().m(function e(){var t;return g().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s._U.get("tag");case 1:if((t=e.v).code!==d.m.Sucess){e.n=2;break}return e.a(2,t.data);case 2:return e.a(2,[])}},e)}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=E(g().m(function e(t){return g().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s._U.post("tag/save",t);case 1:e.v.code!==d.m.Sucess&&new(u())({type:"error",text:"网络错误",timeout:1e3,layout:"bottomLeft"}).show();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=E(g().m(function e(t){return g().w(function(e){for(;;)switch(e.n){case 0:A(t.url),T(t.url);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",null,r.createElement(l.A,null,r.createElement(a.$Z,{placeholder:t("系统代理端口"),icon:"outlet",value:j,handleInputChange:function(e){e&&(/^\d+$/.test(e)||new(u())({type:"error",text:"不是数字",timeout:1e3,layout:"bottomLeft"}).show(),L(parseInt(e)))},max_width:"10rem"}),r.createElement(a.$Z,{placeholder:t("要代理的url"),icon:"link",value:S,handleInputChange:function(e){A(e)}}),r.createElement(i.rA,{icon:"play_arrow",title:t("开始代理"),onClick:T}),r.createElement(i.rA,{icon:"fullscreen",title:t("全屏"),onClick:function(){P(!C),c(!C)}}),r.createElement(i.rA,{icon:"close",title:t(t("关闭")),onClick:function(){I(),P(!1),A("")}})),r.createElement(o.jW,{isFull:C},r.createElement("div",{id:"browser"},!x&&r.createElement(p.N,{have_auth_edit:D(b.oV.browser_proxy_tag_update),getItems:M,save:G,clickItem:B,items:[{key:"name",preName:t("名字")},{key:"url",preName:"url"},{key:"color",preName:"color"}]}),r.createElement("iframe",{id:"webview",src:x}))))}var x=n(4405),K=n(7374),O=n(7767),j=n(4694),L=n(5726),F=n(7567),C=n(7022),P=n(4289),D=n(8844),I=n(8815),T=n(9214);function M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=z(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function G(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return B(l,"_invoke",function(n,r,o){var a,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,c=0,u=e,d.n=n,i}};function p(n,r){for(c=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],p=d.p,m=a[2];n>3?(o=m===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,d.n=m,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,u=m;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(B(t={},r,function(){return this}),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,B(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,B(f,"constructor",l),B(l,"constructor",u),u.displayName="GeneratorFunction",B(l,o,"GeneratorFunction"),B(f),B(f,o,"Generator"),B(f,r,function(){return this}),B(f,"toString",function(){return"[object Generator]"}),(G=function(){return{w:a,m:d}})()}function B(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}B=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){B(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},B(e,t,n,r)}function U(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){R(a,r,o,i,c,"next",e)}function c(e){R(a,r,o,i,c,"throw",e)}i(void 0)})}}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return V(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){var t=$((0,h.L4)(y.A.selectedFileList),2),n=t[0],o=t[1],a=$((0,h.L4)(y.A.clickFileList),2),i=a[0],c=a[1],u=$((0,h.L4)(y.A.editorSetting),2),l=(u[0],u[1]),f=$((0,h.L4)(y.A.shellNowDir),2),d=f[0],p=(f[1],$((0,h.L4)(y.A.sshInfo),2)),b=p[0],g=(p[1],$((0,h.L4)(y.A.nowFileList),2)),_=g[0],S=g[1],E=$((0,h.L4)(y.A.enterKey),2),k=E[0],A=(E[1],$((0,h.L4)(y.A.confirm),2)),N=(A[0],A[1]),K=(0,O.Zp)(),L=(0,m.Bd)().t,F=function(){var t=H(G().m(function t(r,a){var u,f,d,p,m,y,h,g;return G().w(function(t){for(;;)switch(t.n){case 0:if(null!==(0,j.kW)(n,r))o((0,j.P1)(n,r));else if("ctrl"===k)o([].concat(U(n),[r]));else if("shift"===k){if(u=(0,j.a7)(n),f=u.max,d=u.min,p=[],r>=f)for(m=f;m<=r;m++)p.push(m);else for(y=d;y>=r;y--)p.push(y);o(p)}else o([r]);if(c([].concat(U(i),[r])),setTimeout(function(){c((0,j.P1)(i,r))},300),e.type!==C.Iw.folder){t.n=2;break}if(void 0===i.find(function(e){return e===r})){t.n=1;break}return(h=new x.x).key=b.key,h.dir="/".concat((0,P.GG)("remoteShell",(0,P.vX)())).concat(a),K((0,j.IO)((0,P.vX)(),a)),o([]),c([]),S({files:[],folders:[]}),t.a(2);case 1:t.n=5;break;case 2:if(void 0===i.find(function(e){return e===r})){t.n=5;break}if(g=function(){var t=H(G().m(function t(){var n,r,o;return G().w(function(t){for(;;)switch(t.n){case 0:return(n=new x.x).key=b.key,n.file="/".concat((0,P.GG)("remoteShell",(0,P.vX)())).concat(a),t.n=1,s.Fg.post("get/file/text",n);case 1:r=t.v,o=void 0,a.endsWith(C.Iw.workflow_act)?o="ace/mode/yaml":(a.endsWith(C.Iw.draw)||a.endsWith(C.Iw.excalidraw))&&(o="ace/mode/json"),l({model:o,open:!0,fileName:e.name,save:function(){var e=H(G().m(function e(t){return G().w(function(e){for(;;)switch(e.n){case 0:return n.context=t,e.n=1,s.Fg.post("update/file/text",n);case 1:0===e.v.code&&(v.xK.set_value_temp(""),(0,w.LW)("success"));case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()}),v.xK.set_value_temp(r.data);case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),!("number"==typeof e.origin_size&&e.origin_size>I.o5)){t.n=3;break}return N({open:!0,title:L("提示"),sub_title:"文件超过20MB了确定要打开吗?",handle:function(){var e=H(G().m(function e(){return G().w(function(e){for(;;)switch(e.n){case 0:return N({open:!1,handle:null}),e.n=1,g();case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}()}),t.a(2);case 3:return t.n=4,g();case 4:case 5:return t.a(2)}},t)}));return function(e,n){return t.apply(this,arguments)}}(),B=function(){var t=H(G().m(function t(r){var a,i,c,u,l,f,p;return G().w(function(t){for(;;)switch(t.n){case 0:a=new x.x,Object.assign(a,b),a.target=j.HS.apply(void 0,U(d).concat([r])),i=(0,T.ib)(_,n),c=i.map(function(e){return j.HS.apply(void 0,U(d).concat([e.name]))}),u=M(c),t.p=1,u.s();case 2:if((l=u.n()).done){t.n=5;break}return f=l.value,a.source=f,t.n=3,s.Fg.post("move",a);case 3:if(t.v){t.n=4;break}return t.a(2,!1);case 4:t.n=2;break;case 5:t.n=7;break;case 6:t.p=6,p=t.v,u.e(p);case 7:return t.p=7,u.f(),t.f(7);case 8:return o([]),N({open:!1,handle:null}),t.n=9,e.fileHandler();case 9:return t.a(2)}},t,null,[[1,6,7,8]])}));return function(e){return t.apply(this,arguments)}}();return r.createElement(D.B,{draggable_handle:B,name:e.name,index:e.index,mtime:e.mtime,size:e.size,type:e.type,itemWidth:e.itemWidth,show_mtime:e.show_mtime,click:F})}var W=n(7856),X=n(4238),J=n(4944);function q(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return Y(l,"_invoke",function(n,r,o){var a,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,c=0,u=e,d.n=n,i}};function p(n,r){for(c=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],p=d.p,m=a[2];n>3?(o=m===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,d.n=m,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,u=m;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Y(t={},r,function(){return this}),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Y(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Y(f,"constructor",l),Y(l,"constructor",u),u.displayName="GeneratorFunction",Y(l,o,"GeneratorFunction"),Y(f),Y(f,o,"Generator"),Y(f,r,function(){return this}),Y(f,"toString",function(){return"[object Generator]"}),(q=function(){return{w:a,m:d}})()}function Y(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Y=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){Y(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},Y(e,t,n,r)}function Q(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ee(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Q(a,r,o,i,c,"next",e)}function c(e){Q(a,r,o,i,c,"throw",e)}i(void 0)})}}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var re=r.lazy(function(){return n.e(614).then(n.bind(n,5614))});function oe(e){var t=te((0,r.useState)(null),2),n=t[0],o=t[1],a=te((0,h.L4)(y.A.remoteShellShow),2),i=a[0],c=(a[1],te((0,r.useState)(!1),2)),u=(c[0],c[1]),l=te((0,h.L4)(y.A.sshInfo),2),s=l[0],f=(l[1],te((0,h.L4)(y.A.shellNowDir),2)),d=(f[0],f[1],te((0,h.L4)(y.A.user_base_info),2)),p=d[0],m=(d[1],"dark"===p.user_data.theme?"#FFFFFF":"#000000"),v=function(){var e=ee(q().m(function e(){var t,n,r;return q().w(function(e){for(;;)switch(e.n){case 0:t=new W.Terminal({fontFamily:"Monaco, Menlo, Consolas, 'Courier New', monospace",theme:{background:"#FFFFFF",foreground:m,cursor:m,selectionBackground:"#a6d2ff"},cursorBlink:!0,cursorStyle:"bar",scrollback:1e3,scrollSensitivity:1,tabStopWidth:4}),r=function(e){t.write(e)},n=function(e){t.clear(),t.write(e),n=r},J.ws.addMsg(X.HK.remote_shell_getting,function(e){n(e.context)}),t.onData(function(){var e=ee(q().m(function e(t){var n,r;return q().w(function(e){for(;;)switch(e.n){case 0:return(n=new x.x).key=s.key,n.cmd=t,(r=new X.hf(X.HK.remote_shell_send)).context=n,e.n=1,J.ws.send(r);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),o(t);case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){ee(q().m(function e(){return q().w(function(e){for(;;)switch(e.n){case 0:n&&(n.dispose(),o(null)),J.ws.isAilive()&&J.ws.setPromise(function(){var e=ee(q().m(function e(t){return q().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,J.ws.unConnect();case 1:t();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2)}},e)}))()};(0,r.useEffect)(function(){return function(){b()}},[]),(0,r.useEffect)(function(){i.show?n||(v(),u(!0)):b()},[i]);return r.createElement(re,{show:i.show,terminal:n,init:function(e,t){n.writeln("[38;2;29;153;243mopen shell...[0m ");var r=new X.hf(X.HK.remote_shell_open),o=new x.x;o.key=s.key,o.init_path=i.path,o.rows=e,o.cols=t,r.context=o,J.ws.send(r)}})}var ae=n(1251),ie=n(2730),ce=n(9240);function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(null,arguments)}function le(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return se(l,"_invoke",function(n,r,o){var a,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,c=0,u=e,d.n=n,i}};function p(n,r){for(c=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],p=d.p,m=a[2];n>3?(o=m===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,d.n=m,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,u=m;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(se(t={},r,function(){return this}),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,se(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,se(f,"constructor",l),se(l,"constructor",u),u.displayName="GeneratorFunction",se(l,o,"GeneratorFunction"),se(f),se(f,o,"Generator"),se(f,r,function(){return this}),se(f,"toString",function(){return"[object Generator]"}),(le=function(){return{w:a,m:d}})()}function se(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}se=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){se(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},se(e,t,n,r)}function fe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ye(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function de(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){de(a,r,o,i,c,"next",e)}function c(e){de(a,r,o,i,c,"throw",e)}i(void 0)})}}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"==typeof e)return he(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ve,be=function(e){return e.block="",e.gallery="gallery",e.list="list",e}({}),we=Object.values(be),ge=280;function _e(e){var t=(0,m.Bd)().t,n=(0,r.useRef)(void 0),o=(0,O.zy)(),c=me((0,h.L4)(y.A.nowFileList),2),u=c[0],f=c[1],p=me((0,h.L4)(y.A.fileShowType),2),v=p[0],b=p[1],g=me((0,h.L4)(y.A.uploadFiles),2),_=(g[0],g[1]),S=me((0,h.L4)(y.A.showPrompt),2),E=(S[0],S[1]),k=me((0,h.L4)(y.A.selectedFileList),2),A=k[0],N=(k[1],me((0,h.L4)(y.A.enterKey),2)),D=(N[0],N[1]),M=me((0,h.L4)(y.A.copyedFileList),2),G=M[0],B=M[1],U=me((0,h.L4)(y.A.cutedFileList),2),R=U[0],H=U[1],$=me((0,h.L4)(y.A.selectedFileList),2),z=($[0],$[1]),V=me((0,h.L4)(y.A.clickFileList),2),W=(V[0],V[1]),X=me((0,h.L4)(y.A.remoteShellShow),2),J=X[0],q=X[1],Y=me((0,h.L4)(y.A.shellNowDir),2),Q=(Y[0],Y[1],me((0,h.L4)(y.A.sshInfo),2)),ee=Q[0],te=(Q[1],me((0,r.useState)(void 0),2)),ne=te[0],re=te[1],se=me((0,r.useState)(""),2),de=se[0],ye=se[1],he=(0,O.Zp)(),be=me((0,h.L4)(y.A.user_base_info),2),_e=be[0],Se=(be[1],function(){var e=pe(le().m(function e(t){var n,r,o,a,i,c,u,l,p,m,y,h;return le().w(function(e){for(;;)switch(e.n){case 0:return(n=new x.x).key=ee.key,n.dir=t||"/".concat((0,P.GG)("remoteShell",(0,P.vX)())),e.n=1,s.Fg.post("get/dir",n);case 1:if((r=e.v).code===d.m.Sucess){e.n=2;break}return(0,w.zN)("连接失败"),e.a(2);case 2:o=r.data||{},a=o.folders,i=o.files,c=fe(null!=i?i:[]);try{for(c.s();!(u=c.n()).done;)(l=u.value).origin_size=l.size,l.size=(0,I.v7)(l.size),l.show_mtime=l.mtime?(0,ae.s)(l.mtime):""}catch(e){c.e(e)}finally{c.f()}p=fe(null!=a?a:[]);try{for(p.s();!(m=p.n()).done;)(y=m.value).show_mtime=y.mtime?(0,ae.s)(y.mtime):""}catch(e){p.e(e)}finally{p.f()}h={folders:a||[],files:i||[]},(0,T.yC)(h,_e.user_data.dir_show_type),f(h),ve=h;case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),Ee=function(){var e=pe(le().m(function e(){return le().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Se();case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Math.floor(document.querySelector("main").offsetWidth/ge);0===e&&(e=1),re("calc(".concat(100/e,"% - 1em)"))};(0,r.useEffect)(function(){return xe(),Ee(),ke(),window.addEventListener("resize",ke),function(){window.removeEventListener("resize",ke)}},[o]);var Ae=function(){var e=pe(le().m(function e(t){var n,r,o,a;return le().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),n=t.dataTransfer,r=t.target,!(n.files.length<=0)){e.n=1;break}return e.a(2);case 1:for(o=0;o<5;o++)null===r||r.classList.contains("item")||(r=r.parentElement);return e.n=2,(0,L.T)(n);case 2:a=e.v,_(a),E({show:!0,type:F.PromptEnum.SshUpload,overlay:!1,data:{}});case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){e.preventDefault()};function xe(){z([]),W([])}function Ke(e){(0,w.LW)(e)}(0,r.useEffect)(function(){var t=n.current.ownerDocument;return t.addEventListener("dragover",Ne),t.addEventListener("drop",Ae),function(){e.close(),t.removeEventListener("dragover",Ne),t.removeEventListener("drop",Ae)}},[]);var Oe=me((0,r.useState)(!1),2),je=Oe[0],Le=Oe[1];(0,r.useEffect)(function(){var e=function(e){if(je)if(e.ctrlKey)if("a"===e.key||"A"===e.key){for(var t=u.files.length,n=u.folders.length,r=[],o=0;o<t+n;o++)r.push(o);z(r)}else D("ctrl");else"Escape"===e.key?z([]):"Shift"===e.key&&D("shift")},t=function(e){e.ctrlKey||D("")};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[u,je]);var Fe=function(e){e.target===e.currentTarget&&z([])};return r.createElement("div",{className:"not-select-div"},r.createElement(l.A,{left_children:r.createElement(a.$Z,{handleEnterPress:function(){var e,t;if(ve){z([]),W([]);var n,r=[],o=[],a=fe(null!==(e=ve.files)&&void 0!==e?e:[]);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.name.includes(de)&&r.push(i)}}catch(e){a.e(e)}finally{a.f()}var c,u=fe(null!==(t=ve.folders)&&void 0!==t?t:[]);try{for(u.s();!(c=u.n()).done;){var l=c.value;l.name.includes(de)&&o.push(l)}}catch(e){u.e(e)}finally{u.f()}f({files:r,folders:o})}},placeholder:t("搜索当前目录"),icon:"search",value:"",handleInputChange:function(e){ye(e)},max_width:"25em"})},A.length>0&&r.createElement(i.rA,{icon:"delete",title:t("删除"),onClick:function(){E({show:!0,type:F.PromptEnum.SshDelete,overlay:!0,data:{}})}}),A.length>0&&r.createElement(i.rA,{icon:"content_copy",title:t("复制"),onClick:function(){var e=(0,T.ib)(u,A);B(e.map(function(e){return"/".concat((0,P.GG)("remoteShell",(0,P.vX)())).concat(e.name)})),H([]),Ke("已复制")}}),A.length>0&&r.createElement(i.rA,{icon:"content_cut",title:t("剪切"),onClick:function(){var e=(0,T.ib)(u,A);H(e.map(function(e){return"/".concat((0,P.GG)("remoteShell",(0,P.vX)())).concat(e.name)})),B([]),Ke("已剪切")}}),(G.length>0||R.length>0)&&r.createElement(i.rA,{onClick:function(){E({show:!0,type:F.PromptEnum.SshPaste,overlay:!0,data:{}})},icon:"content_paste",title:t("粘贴到此处"),tip:G.length+R.length}),1===A.length&&u.files.length>=1&&(0,T.ib)(u,A)[0].type!==C.Iw.folder&&r.createElement(i.rA,{icon:"download",title:t("下载"),onClick:function(){var e=(0,T.ib)(u,A),t="/".concat((0,P.GG)("remoteShell",(0,P.vX)())).concat(decodeURIComponent(e[0].name)),n="/api/ssh/download?file=".concat(t,"&key=").concat(ee.key,"&token=").concat(localStorage.getItem("token"));window.open(n)}}),1===A.length&&r.createElement(i.rA,{icon:"edit_attributes",title:t("重命名"),onClick:function(){E({show:!0,type:F.PromptEnum.SshReName,overlay:!0,data:{}})}}),r.createElement(i.rA,{icon:"terminal",title:"shell",onClick:function(){J.show?q({show:!1,path:""}):q({show:!0,path:"/".concat((0,P.GG)("remoteShell",(0,P.vX)()))})}}),r.createElement(i.rA,{icon:"grid_view",title:t("切换样式"),onClick:function(){b((0,j.jH)(we,v))}}),r.createElement(i.rA,{icon:"create_new_folder",title:t("创建文件夹"),onClick:function(){E({show:!0,type:F.PromptEnum.SshNewDir,overlay:!0,data:{}})}}),r.createElement(i.rA,{icon:"note_add",title:t("创建文本文件"),onClick:function(){E({show:!0,type:F.PromptEnum.SshNewFile,overlay:!0,data:{}})}}),r.createElement(i.rA,{icon:"upload_file",title:"上传",onClick:function(){E({show:!0,type:F.PromptEnum.UploadFile,overlay:!0,data:{call:function(e){var t,n=null===(t=e.currentTarget)||void 0===t?void 0:t.files;if(n){for(var r=!!n[0].webkitRelativePath,o=[],a=new Set,i=0;i<n.length;i++){var c=n[i],u=r?c.webkitRelativePath:"".concat(c.webkitRelativePath).concat(c.name);c.fullPath=u,r&&a.add((0,ie.S)(u)),o.push(c)}var l=[];if(r){var s,f=fe(a);try{for(f.s();!(s=f.n()).done;){var d=s.value;l.push({isDir:!0,fullPath:d,name:d})}}catch(e){f.e(e)}finally{f.f()}}l.push.apply(l,o),_(l),E({show:!0,type:F.PromptEnum.SshUpload,overlay:!1,data:{}})}}}})}}),r.createElement(i.rA,{icon:"close",title:t("关闭"),onClick:function(){e.close()}})),r.createElement(K.e,{baseRoute:"remoteShell",clickFun:xe,input_path_enter:function(e){(0,ce.Z1)(e)?Se(e):he((0,ce.Jn)((0,P.vX)(),e)),z([]),W([]),f({files:[],folders:[]})}}),r.createElement("div",{id:"listing",className:"mosaic file-icons ".concat(v),ref:n,onMouseEnter:function(){Le(!0)},onMouseLeave:function(){Le(!1)}},!!u&&!!u.folders&&u.folders.length>0&&r.createElement("h2",null,"文件夹"),!!u&&!!u.folders&&r.createElement("div",{onClick:Fe},u.folders.map(function(e,t){return r.createElement(Z,ue({fileHandler:Se,itemWidth:ne,index:t,key:t},e))})),!!u&&!!u.folders&&u.files.length>0&&r.createElement("h2",{onClick:Fe},"文件"),!!u&&!!u.folders&&r.createElement("div",{onClick:Fe},u.files.map(function(e,t){return r.createElement(Z,ue({fileHandler:Se,itemWidth:ne,index:t+u.folders.length,key:t},e))}))),r.createElement(oe,null))}function Se(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return Ee(l,"_invoke",function(n,r,o){var a,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,c=0,u=e,d.n=n,i}};function p(n,r){for(c=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],p=d.p,m=a[2];n>3?(o=m===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,d.n=m,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,u=m;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ee(t={},r,function(){return this}),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Ee(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Ee(f,"constructor",l),Ee(l,"constructor",u),u.displayName="GeneratorFunction",Ee(l,o,"GeneratorFunction"),Ee(f),Ee(f,o,"Generator"),Ee(f,r,function(){return this}),Ee(f,"toString",function(){return"[object Generator]"}),(Se=function(){return{w:a,m:d}})()}function Ee(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ee=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){Ee(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},Ee(e,t,n,r)}function ke(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ae(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ke(a,r,o,i,c,"next",e)}function c(e){ke(a,r,o,i,c,"throw",e)}i(void 0)})}}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e){var t=(0,m.Bd)().t,n=(0,O.Zp)(),o=Ne((0,r.useState)(""),2),c=o[0],f=o[1],w=Ne((0,r.useState)(""),2),g=w[0],_=w[1],S=Ne((0,r.useState)(""),2),E=S[0],k=S[1],A=Ne((0,r.useState)(""),2),N=A[0],K=A[1],j=Ne((0,r.useState)(void 0),2),L=j[0],F=j[1],C=Ne((0,r.useState)(""),2),P=C[0],D=C[1],I=Ne((0,h.L4)(y.A.shellNowDir),2),T=(I[0],I[1]),M=Ne((0,h.L4)(y.A.sshInfo),2),G=M[0],B=M[1],U=(0,v.MH)().check_user_auth,R=function(){var e=Ae(Se().m(function e(){var t;return Se().w(function(e){for(;;)switch(e.n){case 0:return(t=new x.x).key=G.key,e.n=1,s.Fg.post("close",t);case 1:e.v,B({});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Ae(Se().m(function e(t){var r,o;return Se().w(function(e){for(;;)switch(e.n){case 0:return(r=new x.x).password=t?t.password:g,r.domain=t?t.domain:N,r.port=t?t.port:L,r.username=t?t.username:c,r.private_path=t?t.private_path:E,e.n=1,s.Fg.post("start",r);case 1:(o=e.v)&&o.code===d.m.Sucess&&(r.dir=t?t.dir:P,n((0,ce.Jn)("/proxy/remoteShell",t.dir)),T([r.dir]),B(o.data));case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Ae(Se().m(function e(){var t;return Se().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s.Fg.get("tag");case 1:if((t=e.v).code!==d.m.Sucess){e.n=2;break}return e.a(2,t.data);case 2:return e.a(2,[])}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Ae(Se().m(function e(t){return Se().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s.Fg.post("tag/save",t);case 1:e.v.code!==d.m.Sucess&&new(u())({type:"error",text:"网络错误",timeout:1e3,layout:"bottomLeft"}).show();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Ae(Se().m(function e(t){return Se().w(function(e){for(;;)switch(e.n){case 0:return K(t.domain),D(t.dir),F(t.port),f(t.username),_(t.password),k(t.private_path),e.n=1,H(t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",null,r.createElement(l.A,null,r.createElement(a.$Z,{placeholder:t("目录"),icon:"home",value:P,handleInputChange:function(e){return D(e)},max_width:"15rem"}),r.createElement(a.$Z,{placeholder:t("账号"),icon:"verified_user",value:c,handleInputChange:function(e){return f(e)},max_width:"15rem"}),r.createElement(a.$Z,{placeholder:t("密码"),icon:"password",value:g,handleInputChange:function(e){return _(e)},max_width:"15rem"}),r.createElement(a.$Z,{placeholder:t("私钥路径"),icon:"private_connectivity",value:E,handleInputChange:function(e){return k(e)},max_width:"15rem"}),r.createElement(a.$Z,{placeholder:t("连接地址"),icon:"location_on",value:N,handleInputChange:function(e){K(e)},max_width:"15rem"}),r.createElement(a.$Z,{placeholder:t("端口"),icon:"outlet",value:L,handleInputChange:function(e){e&&(/^\d+$/.test(e)||new(u())({type:"error",text:"不是数字",timeout:1e3,layout:"bottomLeft"}).show(),F(parseInt(e)))},max_width:"7rem"}),r.createElement(i.rA,{icon:"play_arrow",title:t("连接"),onClick:function(){H()}})),G.key?r.createElement(_e,{close:R,data:{port:L,password:g,username:c,domain:N,dir:P}}):r.createElement(p.N,{have_auth_edit:U(b.oV.ssh_proxy_tag_update),getItems:$,save:z,clickItem:V,items:[{key:"name",preName:t("名字")},{key:"domain",preName:t("地址")},{key:"port",preName:t("端口")},{key:"username",preName:t("账号")},{key:"password",preName:t("密码")},{key:"private_path",preName:t("私钥路径")},{key:"dir",preName:t("访问目录")},{key:"color",preName:"color"}]}))}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Le(r.key),r)}}function Le(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:t+""}function Fe(e){switch(e){case 0:return 1;case 2:return 2;default:return 0}}var Ce=function(){return function(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.render=new Je.Canvas.create(this.canvas),this.activeSession=!1,this.install()},[{key:"close",value:function(){this.activeSession=!1}},{key:"install",value:function(){var e=this;return this.canvas.addEventListener("mousemove",function(t){var n=Je.elementOffset(e.canvas);return J.ws.sendData(X.HK.mouse,{x:t.clientX-n.left,y:t.clientY-n.top,button:0,isPressed:!1}),t.preventDefault||e.activeSession(),!1}),this.canvas.addEventListener("mousedown",function(t){var n=Je.elementOffset(e.canvas);return J.ws.sendData(X.HK.mouse,{x:t.clientX-n.left,y:t.clientY-n.top,button:Fe(t.button),isPressed:!0}),t.preventDefault(),!1}),this.canvas.addEventListener("mouseup",function(t){if(e.activeSession){var n=Je.elementOffset(e.canvas);return J.ws.sendData(X.HK.mouse,{x:t.clientX-n.left,y:t.clientY-n.top,button:Fe(t.button),isPressed:!1}),t.preventDefault(),!1}}),this.canvas.addEventListener("contextmenu",function(t){if(e.activeSession){var n=Je.elementOffset(e.canvas);return J.ws.sendData(X.HK.mouse,{x:t.clientX-n.left,y:t.clientY-n.top,button:Fe(t.button),isPressed:!1}),t.preventDefault(),!1}}),this.canvas.addEventListener("DOMMouseScroll",function(t){if(e.activeSession){var n=t.detail,r=Math.round(15*Math.abs(n)/8),o=Je.elementOffset(e.canvas);return J.ws.sendData(X.HK.wheel,{x:t.clientX-o.left,y:t.clientY-o.top,step:r,isNegative:n>0,isHorizontal:!1}),t.preventDefault(),!1}}),this.canvas.addEventListener("mousewheel",function(t){if(e.activeSession){var n=Math.abs(t.deltaX)>Math.abs(t.deltaY),r=n?t.deltaX:t.deltaY,o=Math.round(15*Math.abs(r)/8),a=Je.elementOffset(e.canvas);return J.ws.sendData(X.HK.wheel,{x:t.clientX-a.left,y:t.clientY-a.top,step:o,isNegative:r>0,isHorizontal:n}),t.preventDefault(),!1}}),window.addEventListener("keydown",function(t){if(e.activeSession)return J.ws.sendData(X.HK.scancode,{code:Je.scancode(t),isPressed:!0}),t.preventDefault(),!1}),window.addEventListener("keyup",function(t){if(e.activeSession)return J.ws.sendData(X.HK.scancode,{code:Je.scancode(t),isPressed:!1}),t.preventDefault(),!1}),this}},{key:"connect",value:function(e,t,n,r,o){var a=this;J.ws.addMsg(X.HK.rdp_connect,function(e){console.log("[mstsc.js] connected"),a.activeSession=!0}),J.ws.addMsg(X.HK.rdp_bitmap,function(e){var t=e.context;t.data=e.bin_context,a.render.update(t)}),J.ws.addMsg(X.HK.rdp_close,function(e){o(null),console.log("[mstsc.js] close"),a.activeSession=!1}),J.ws.addMsg(X.HK.rdp_error,function(e){a.activeSession=!1});var i=new X.hf;i.cmdType=X.HK.infos,i.context={ip:e.indexOf(":")>-1?e.split(":")[0]:e,port:e.indexOf(":")>-1?parseInt(e.split(":")[1]):3389,screen:{width:this.canvas.width,height:this.canvas.height},domain:t,username:n,password:r,locale:Je.locale()},J.ws.send(i)}}])}();function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ie(r.key),r)}}function Ie(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}var Te,Me,Ge,Be,Ue=function(){return function(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.ctx=t.getContext("2d")},[{key:"update",value:function(e){var t=null;t=e.isCompress?function(e){var t=null;switch(e.bitsPerPixel){case 15:t="bitmap_decompress_15";break;case 16:t="bitmap_decompress_16";break;case 24:t="bitmap_decompress_24";break;case 32:t="bitmap_decompress_32";break;default:throw"invalid bitmap data format"}var n=new Uint8Array(e.data),r=Module._malloc(n.length),o=new Uint8Array(Module.HEAPU8.buffer,r,n.length);o.set(n);var a=e.destRight-e.destLeft+1,i=e.destBottom-e.destTop+1,c=a*i*4,u=Module._malloc(c),l=new Uint8Array(Module.HEAPU8.buffer,u,c),s=(Module.ccall(t,"number",["number","number","number","number","number","number","number","number"],[l.byteOffset,a,i,e.width,e.height,o.byteOffset,n.length]),new Uint8ClampedArray(l.buffer,l.byteOffset,c));return Module._free(r),Module._free(u),{width:a,height:i,data:s}}(e):function(e){return{width:e.width,height:e.height,data:new Uint8ClampedArray(e.data)}}(e);var n=this.ctx.createImageData(t.width,t.height);n.data.set(t.data),this.ctx.putImageData(n,e.destLeft,e.destTop)}}])}();function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function He(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=(He(He(He(He(He(He(He(He(He(He(Te={"":0,Escape:1,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Digit0:11,Minus:12,Equal:13,Backspace:14,Tab:15,KeyQ:16,KeyW:17,KeyE:18,KeyR:19,KeyT:20,KeyY:21,KeyU:22,KeyI:23,KeyO:24,KeyP:25,BracketLeft:26,BracketRight:27,Enter:28,ControlLeft:29,KeyA:30,KeyS:31,KeyD:32,KeyF:33,KeyG:34,KeyH:35,KeyJ:36,KeyK:37,KeyL:38,Semicolon:39,Quote:40,Backquote:41,ShiftLeft:42,Backslash:43,KeyZ:44,KeyX:45,KeyC:46,KeyV:47,KeyB:48,KeyN:49,KeyM:50,Comma:51,Period:52,Slash:53,ShiftRight:54,NumpadMultiply:55,AltLeft:56,Space:57,CapsLock:58,F1:59,F2:60,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,F10:68,Pause:69,ScrollLock:70,Numpad7:71,Numpad8:72,Numpad9:73,NumpadSubtract:74,Numpad4:75,Numpad5:76,Numpad6:77,NumpadAdd:78,Numpad1:79,Numpad2:80,Numpad3:81,Numpad0:82,NumpadDecimal:83,PrintScreen:84,IntlBackslash:86,F11:87,F12:88,NumpadEqual:89,F13:100,F14:101,F15:102,F16:103,F17:104,F18:105,F19:106,F20:107,F21:108,F22:109,F23:110,KanaMode:112,Lang2:113,Lang1:114,IntlRo:115,F24:118,Convert:121,NonConvert:123,IntlYen:125,NumpadComma:126,MediaTrackPrevious:57360,MediaTrackNext:57369,NumpadEnter:57372,ControlRight:57373,VolumeMute:57376,LaunchApp2:57377,MediaPlayPause:57378,MediaStop:57380,VolumeDown:57390,VolumeUp:57392,BrowserHome:57394,NumpadDivide:57397},"PrintScreen",57399),"AltRight",57400),"NumLock",57413),"Pause",57414),"Home",57415),"ArrowUp",57416),"PageUp",57417),"ArrowLeft",57419),"ArrowRight",57421),"End",57423),He(He(He(He(He(He(He(He(He(He(Te,"ArrowDown",57424),"PageDown",57425),"Insert",57426),"Delete",57427),"OSLeft",57435),"OSRight",57436),"ContextMenu",57437),"Power",57438),"BrowserSearch",57445),"BrowserFavorites",57446),He(He(He(He(He(He(He(Te,"BrowserRefresh",57447),"BrowserStop",57448),"BrowserForward",57449),"BrowserBack",57450),"LaunchApp1",57451),"LaunchMail",57452),"MediaSelect",57453)),ze=(He(He(He(He(He(He(He(He(He(He(Me={27:"Escape",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",0:"Backquote",49:"Digit1",50:"Digit2",51:"Digit3",52:"Digit4",53:"Digit5",54:"Digit6",55:"Digit7",56:"Digit8",57:"Digit9",48:"Digit0",169:"Minus",61:"Equal",8:"Backspace",9:"Tab",65:"KeyQ",90:"KeyW",69:"KeyE",82:"KeyR",84:"KeyT",89:"KeyY",85:"KeyU",73:"KeyI",79:"KeyO",80:"KeyP",160:"BracketLeft",164:"BracketRight",13:"Enter",20:"CapsLock"},"20","CapsLock"),81,"KeyA"),83,"KeyS"),68,"KeyD"),70,"KeyF"),71,"KeyG"),72,"KeyH"),74,"KeyJ"),75,"KeyK"),76,"KeyL"),He(He(He(He(He(He(He(He(He(He(Me,77,"Semicolon"),165,"Quote"),170,"Backslash"),16,"ShiftLeft"),60,"IntlBackslash"),87,"KeyZ"),88,"KeyX"),67,"KeyC"),86,"KeyV"),66,"KeyB"),He(He(He(He(He(He(He(He(He(He(Me,78,"KeyN"),188,"KeyM"),59,"Comma"),58,"Period"),161,"Slash"),"16","ShiftRight"),17,"ControlLeft"),91,"OSLeft"),18,"AltLeft"),32,"Space"),He(He(He(He(He(He(He(He(He(He(Me,"17","ControlLeft"),"18","AltRight"),"91","OSRight"),93,"ContextMenu"),"17","ControlRight"),37,"ArrowLeft"),38,"ArrowUp"),40,"ArrowDown"),39,"ArrowRight"),144,"NumLock"),He(He(He(He(He(He(He(He(He(He(Me,"144","NumLock"),111,"NumpadDivide"),106,"NumpadMultiply"),109,"NumpadSubtract"),103,"Numpad7"),104,"Numpad8"),105,"Numpad9"),107,"NumpadAdd"),100,"Numpad4"),101,"Numpad5"),He(He(He(He(He(He(He(He(He(He(Me,102,"Numpad6"),97,"Numpad1"),98,"Numpad2"),99,"Numpad3"),96,"Numpad0"),110,"NumpadDecimal"),"13","NumpadEnter"),"17","ControlLeft"),"67","KeyC"),"17","ControlLeft")),Ve=(He(He(He(He(He(He(He(He(He(He(Ge={27:"Escape",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",0:"Backquote",49:"Digit1",50:"Digit2",51:"Digit3",52:"Digit4",53:"Digit5",54:"Digit6",55:"Digit7",56:"Digit8",57:"Digit9",48:"Digit0",219:"Minus",187:"Equal",8:"Backspace",9:"Tab",65:"KeyQ",90:"KeyW",69:"KeyE",82:"KeyR",84:"KeyT",89:"KeyY",85:"KeyU",73:"KeyI",79:"KeyO",80:"KeyP",221:"BracketLeft",186:"BracketRight",13:"Enter",20:"CapsLock"},"20","CapsLock"),81,"KeyA"),83,"KeyS"),68,"KeyD"),70,"KeyF"),71,"KeyG"),72,"KeyH"),74,"KeyJ"),75,"KeyK"),76,"KeyL"),He(He(He(He(He(He(He(He(He(He(Ge,77,"Semicolon"),192,"Quote"),220,"Backslash"),16,"ShiftLeft"),60,"IntlBackslash"),87,"KeyZ"),88,"KeyX"),67,"KeyC"),86,"KeyV"),66,"KeyB"),He(He(He(He(He(He(He(He(He(He(Ge,78,"KeyN"),188,"KeyM"),190,"Comma"),191,"Period"),223,"Slash"),"16","ShiftRight"),17,"ControlLeft"),91,"OSLeft"),18,"AltLeft"),32,"Space"),He(He(He(He(He(He(He(He(He(He(Ge,"17","ControlLeft"),"18","AltRight"),"91","OSRight"),93,"ContextMenu"),"17","ControlRight"),37,"ArrowLeft"),38,"ArrowUp"),40,"ArrowDown"),39,"ArrowRight"),144,"NumLock"),He(He(He(He(He(He(He(He(He(He(Ge,"144","NumLock"),111,"NumpadDivide"),106,"NumpadMultiply"),109,"NumpadSubtract"),103,"Numpad7"),104,"Numpad8"),105,"Numpad9"),107,"NumpadAdd"),100,"Numpad4"),101,"Numpad5"),He(He(He(He(He(He(He(He(He(He(Ge,102,"Numpad6"),97,"Numpad1"),98,"Numpad2"),99,"Numpad3"),96,"Numpad0"),110,"NumpadDecimal"),"13","NumpadEnter"),"17","ControlLeft"),"67","KeyC"),"17","ControlLeft")),Ze=(He(He(He(He(He(He(He(He(He(He(Be={27:"Escape",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",192:"Backquote",49:"Digit1",50:"Digit2",51:"Digit3",52:"Digit4",53:"Digit5",54:"Digit6",55:"Digit7",56:"Digit8",57:"Digit9",48:"Digit0",173:"Minus",61:"Equal",8:"Backspace",9:"Tab",81:"KeyQ",87:"KeyW",69:"KeyE",82:"KeyR",84:"KeyT",89:"KeyY",85:"KeyU",73:"KeyI",79:"KeyO",80:"KeyP",219:"BracketLeft",221:"BracketRight",13:"Enter",20:"CapsLock",65:"KeyA",83:"KeyS",68:"KeyD",70:"KeyF",71:"KeyG",72:"KeyH",74:"KeyJ",75:"KeyK",76:"KeyL",59:"Semicolon",222:"Quote",220:"Backslash",16:"ShiftLeft"},"220","IntlBackslash"),90,"KeyZ"),88,"KeyX"),67,"KeyC"),86,"KeyV"),66,"KeyB"),78,"KeyN"),77,"KeyM"),188,"Comma"),190,"Period"),He(He(He(He(He(He(He(He(He(He(Be,191,"Slash"),"16","ShiftRight"),17,"ControlLeft"),18,"AltLeft"),91,"OSLeft"),32,"Space"),"18","AltRight"),"91","OSRight"),93,"ContextMenu"),"17","ControlRight"),He(He(He(He(He(He(He(He(He(He(Be,37,"ArrowLeft"),38,"ArrowUp"),40,"ArrowDown"),39,"ArrowRight"),144,"NumLock"),"144","NumLock"),111,"NumpadDivide"),106,"NumpadMultiply"),109,"NumpadSubtract"),103,"Numpad7"),He(He(He(He(He(He(He(He(He(He(Be,104,"Numpad8"),105,"Numpad9"),107,"NumpadAdd"),100,"Numpad4"),101,"Numpad5"),102,"Numpad6"),97,"Numpad1"),98,"Numpad2"),99,"Numpad3"),"13","NumpadEnter"),He(He(He(Be,96,"Numpad0"),110,"NumpadDecimal"),"17","ControlLeft")),We={firefox:{fr:ze,en:Ze},chrome:{fr:Ve,en:Ze}};(Je=function(){}).prototype={$:function(e){return document.getElementById(e)},elementOffset:function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:n,left:t}},browser:function(){return"undefined"!=typeof InstallTrigger?"firefox":window.chrome?"chrome":document.docuemntMode?"ie":null},locale:function(){return window.navigator.userLanguage||window.navigator.language},client:{create:function(e){return new Ce(e)}},Canvas:{create:function(e){return new Ue(e)}},scancode:function(e){var t=Je.locale();return t=["fr","en"].indexOf(t)>0&&t||"en",$e[e.code||We[Je.browser()||"firefox"][t][e.keyCode]]}};var Xe,Je=new Je;function qe(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return Ye(l,"_invoke",function(n,r,o){var a,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,c=0,u=e,d.n=n,i}};function p(n,r){for(c=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],p=d.p,m=a[2];n>3?(o=m===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,d.n=m,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,u=m;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ye(t={},r,function(){return this}),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Ye(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Ye(f,"constructor",l),Ye(l,"constructor",u),u.displayName="GeneratorFunction",Ye(l,o,"GeneratorFunction"),Ye(f),Ye(f,o,"Generator"),Ye(f,r,function(){return this}),Ye(f,"toString",function(){return"[object Generator]"}),(qe=function(){return{w:a,m:d}})()}function Ye(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ye=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){Ye(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},Ye(e,t,n,r)}function Qe(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function et(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Qe(a,r,o,i,c,"next",e)}function c(e){Qe(a,r,o,i,c,"throw",e)}i(void 0)})}}function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function rt(){var e=(0,m.Bd)().t,t=tt((0,h.L4)(y.A.header_min),2),n=(t[0],t[1]),c=(0,v.MH)().check_user_auth,u=tt((0,r.useState)(void 0),2),f=u[0],g=u[1],_=tt((0,r.useState)(void 0),2),S=_[0],E=_[1],k=tt((0,r.useState)(void 0),2),A=k[0],N=k[1],x=tt((0,r.useState)(!1),2),K=x[0],O=x[1],j=tt((0,r.useState)(!1),2),F=j[0],C=j[1],P=function(){var e=et(qe().m(function e(){return qe().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,(0,L.J)("rle.js");case 1:Xe=!0,e.n=3;break;case 2:return e.p=2,e.v,(0,w.zN)("加载资源失败"),e.a(2);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),D=null;(0,r.useEffect)(function(){return Xe||P(),function(){D&&(D.close(),D=null)}},[]);var I=function(t){C(!0),function(r,o,a){if(r=r||t.address,o=o||t.username,a=a||t.password,!r||!o||!a)return(0,w.zN)(e("不允许为空")),void C(!1);!function(e){D||(D=Je.client.create(Je.$(e)))}("rdpwebview");var i=Je.$("rdpwebview");i.style.display="inline",i.width=window.innerWidth,i.height=window.innerHeight,O(!0),n(!0),D.connect(r,"",o,a,function(e){Je.$("rdpwebview").style.display="none",n(!1),C(!1),O(!1)})}(f,S,A)},T=function(){var e=et(qe().m(function e(){var t;return qe().w(function(e){for(;;)switch(e.n){case 0:return O(!1),e.n=1,J.ws.sendData(X.HK.rdp_disconnect,"");case 1:t=Je.$("rdpwebview"),t.getContext("2d").clearRect(0,0,t.width,t.height),Je.$("rdpwebview").style.display="none",C(!1),n(!1);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=et(qe().m(function e(){var t;return qe().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s.J0.get("tag");case 1:if((t=e.v).code!==d.m.Sucess){e.n=2;break}return e.a(2,t.data);case 2:return e.a(2,[])}},e)}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=et(qe().m(function e(t){return qe().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s.J0.post("tag/save",t);case 1:e.v.code!==d.m.Sucess&&(0,w.zN)("网络错误");case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=et(qe().m(function e(t){return qe().w(function(e){for(;;)switch(e.n){case 0:N(t.password),E(t.username),g(t.address),I(t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",null,r.createElement(l.A,null,r.createElement(a.$Z,{placeholder:e("地址"),icon:"outlet",value:f,handleInputChange:function(e){return g(e)}}),r.createElement(a.$Z,{placeholder:e("账号"),icon:"http",value:S,handleInputChange:function(e){return E(e)}}),r.createElement(a.$Z,{placeholder:e("密码"),icon:"http",value:A,handleInputChange:function(e){return N(e)}}),!F&&r.createElement(i.rA,{icon:"play_arrow",title:e("连接"),onClick:I}),F&&r.createElement(i.rA,{icon:"close",title:e("关闭"),onClick:T})),r.createElement(o.jW,{isFull:K},!F&&r.createElement(p.N,{have_auth_edit:c(b.oV.rdp_proxy_tag_update),getItems:M,save:G,clickItem:B,items:[{key:"name",preName:e("名字")},{key:"address",preName:e("地址")},{key:"username",preName:e("账号")},{key:"password",preName:e("密码")},{key:"color",preName:"color"}]}),r.createElement("canvas",{id:"rdpwebview",style:{display:"none"}})))}var ot=n(7481),at=n(447),it=n(505),ct=n(1499),ut=n(1083);function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function st(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=vt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ft(e){return function(e){if(Array.isArray(e))return bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return pt(l,"_invoke",function(n,r,o){var a,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,c=0,u=e,d.n=n,i}};function p(n,r){for(c=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],p=d.p,m=a[2];n>3?(o=m===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,d.n=m,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,u=m;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(pt(t={},r,function(){return this}),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,pt(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,pt(f,"constructor",l),pt(l,"constructor",u),u.displayName="GeneratorFunction",pt(l,o,"GeneratorFunction"),pt(f),pt(f,o,"Generator"),pt(f,r,function(){return this}),pt(f,"toString",function(){return"[object Generator]"}),(dt=function(){return{w:a,m:d}})()}function pt(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}pt=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){pt(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},pt(e,t,n,r)}function mt(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function yt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){mt(a,r,o,i,c,"next",e)}function c(e){mt(a,r,o,i,c,"throw",e)}i(void 0)})}}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){if(e){if("string"==typeof e)return bt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(e,t):void 0}}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var wt,gt,_t,St,Et=r.lazy(function(){return Promise.all([n.e(960),n.e(91)]).then(n.bind(n,4091))});function kt(){var e=(0,m.Bd)(),t=e.t,n=(e.i18n,ht((0,h.L4)(y.A.confirm),2)),c=(n[0],n[1],ht((0,h.L4)(y.A.showPrompt),2)),u=(c[0],c[1]),g=(0,v.MH)().check_user_auth,_=ht((0,r.useState)(""),2),S=_[0],E=_[1],k=ht((0,h.L4)(y.A.router_jump),2),A=k[0],N=k[1],x=ht((0,r.useState)("get"),2),K=x[0],O=x[1],j=ht((0,r.useState)(""),2),L=j[0],C=j[1],P=ht((0,r.useState)(void 0),2),D=P[0],T=P[1],M=ht((0,r.useState)([]),2),G=M[0],B=M[1],U=ht((0,r.useState)([]),2),R=U[0],H=U[1],$=ht((0,r.useState)(1),2),z=$[0],V=$[1],Z=ht((0,r.useState)(1),2),W=Z[0],q=Z[1],Y=ht((0,r.useState)(1),2),Q=Y[0],ee=Y[1],te=ht((0,r.useState)(),2),ne=te[0],re=te[1],oe=ht((0,h.L4)(y.A.nav_index_add_item_by_now_list),2),ae=(oe[0],oe[1]),ie=ht((0,h.L4)(y.A.prompt_card),2),ce=(ie[0],ie[1]);v.xK.set_value_temp("{}",0),v.xK.set_value_temp("",1),(0,r.useEffect)(function(){return wt={},gt="",_t="",St="",v.xK.get_editor(0).session.setMode("ace/mode/json"),A.http_download_map_path&&(T(A.http_download_map_path),N({})),J.ws.sendData(X.HK.http_download_water,void 0).then(function(){J.ws.addMsg(X.HK.http_download_water,function(e){var t=e.context;H(t)})}),function(){J.ws.unConnect()}},[]);var ue=function(){var e=yt(dt().m(function e(){var t;return dt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s._U.get("http/tag");case 1:if((t=e.v).code!==d.m.Sucess){e.n=2;break}return e.a(2,t.data);case 2:return e.a(2,[])}},e)}));return function(){return e.apply(this,arguments)}}(),le=function(){var e=yt(dt().m(function e(t){return dt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s._U.post("http/tag/save",t);case 1:e.v.code!==d.m.Sucess&&new Noty({type:"error",text:"网络错误",timeout:1e3,layout:"bottomLeft"}).show();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=yt(dt().m(function e(t){return dt().w(function(e){for(;;)switch(e.n){case 0:C(t.url),O(t.method),T(t.local_download_path),t.header_type&&fe(t.header_type),t.headers&&(wt=JSON.parse(t.headers),1===t.header_type&&(v.xK.get_editor(0).setValue(t.headers,-1),v.xK.get_editor(0).session.setMode("ace/mode/json"))),t.form_data_list&&B(JSON.parse(t.form_data_list)),t.data&&(gt=t.data),t.body_type&&(q(t.body_type),v.xK.get_editor(1).setValue(t.data,-1),1===t.body_type?v.xK.get_editor(1).session.setMode("ace/mode/text"):2===t.body_type&&v.xK.get_editor(1).session.setMode("ace/mode/json"));case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),fe=function(e){V(e)},de=function(e){q(e),1===e?v.xK.get_editor(1).session.setMode("ace/mode/text"):2===e&&v.xK.get_editor(1).session.setMode("ace/mode/json")},pe=function(e){var t=new f.vr;if(t.url=L,t.method=K,1===z&&(wt=JSON.parse(v.xK.get_editor_value(0))),t.headers=wt,t.body_type=W,t.header_type=z,W===f.RB.row)gt=v.xK.get_editor_value(1),t.data=gt;else if(W===f.RB.json)wt["Content-Type"]="application/json",gt=v.xK.get_editor_value(1),t.data=gt;else if(W===f.RB.form){wt["Content-Type"]="multipart/form-data",t.form_data_list=G;var n,r=st(G);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.key&&o.is_file&&e&&e.append(o.fullPath,o.file_object)}}catch(e){r.e(e)}finally{r.f()}}return t},me=function(){var e=yt(dt().m(function e(){var t,n;return dt().w(function(e){for(;;)switch(e.n){case 0:if(s._U.have_http_method(K)){e.n=1;break}return(0,w.zN)("不存在的http method"),e.a(2);case 1:if(L){e.n=2;break}return(0,w.zN)("url is empty"),e.a(2);case 2:re(void 0),E(""),(t=new FormData).append("data",JSON.stringify(pe(t))),n="http/send",D&&(n+="?local_download_path=".concat(D)),ut.A.post(s._U.getUrl(n),t,{headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("token")}}).catch(function(e){(0,w.zN)(e.message)}).then(function(e){if(e){if(e.headers.filecat_remote_code)try{var t=JSON.parse(e.headers.filecat_remote_code);re(200===t?r.createElement("span",{style:{color:"green"}},"200"):t)}catch(e){console.log(e)}_t="object"===lt(e.data)?JSON.stringify(e.data):e.data;try{e.headers.filecat_remote_raw_headers&&(St=JSON.stringify(JSON.parse(e.headers.filecat_remote_raw_headers),null,2))}catch(t){St=JSON.stringify(e.headers.filecat_remote_raw_headers)}1===Q?E(_t):2===Q&&E(St)}});case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=yt(dt().m(function e(){var t,n,r,o;return dt().w(function(e){for(;;)if(0===e.n){if((t=pe()).local_download_path=D,G){n=st(G);try{for(n.s();!(r=n.n()).done;)(o=r.value).is_file&&(o.file_object=void 0)}catch(e){n.e(e)}finally{n.f()}}return t.form_data_list=JSON.stringify(G),t.headers=JSON.stringify(t.headers),"object"===lt(t.data)&&(t.data=JSON.stringify(t.data)),e.a(2,t)}},e)}));return function(){return e.apply(this,arguments)}}();return r.createElement("div",null,r.createElement(o.xh,null,r.createElement(l.A,null),r.createElement(o.fI,null,r.createElement(o.VP,null,0!==R.length&&r.createElement(at.Zp,{title:"正在下载"},r.createElement("div",null,R.map(function(e,n){var o,a;return r.createElement("div",{key:n},r.createElement("div",{className:"div-row"},r.createElement(i.rA,{icon:"cancel",title:t("取消"),onClick:function(){J.ws.sendData(X.HK.http_download_cancel,e.local_download_path)}}),r.createElement(at.xP,{context:e.filename,tip_context:e.local_download_path}),r.createElement("span",{style:{paddingLeft:".3rem",color:"green"}},"".concat(null!==(o=e.progresses)&&void 0!==o?o:0,"%  ").concat(e.loaded?(0,I.v7)(e.loaded):"","MB / ").concat(null!==(a=e.seep)&&void 0!==a?a:"","MB/s  "))),r.createElement("div",{style:{width:e.progresses?"".concat(e.progresses,"%"):"0",backgroundColor:"#40c4ff",height:"5px",transition:"0.2s ease width",borderRadius:"10px"}}))}))),r.createElement(at.Zp,{title:"",rightBottomCom:3===W&&2===z&&r.createElement(i.rA,{icon:"add",title:t("添加"),onClick:function(){B([{}].concat(ft(G)))}})},r.createElement("div",{className:"http_url"},r.createElement(a.$Z,{not_mobile:!0,max_width:"15%",placeholder:t("协议"),icon:"http",value:K,handleInputChange:function(e){O(e)}}),r.createElement(a.$Z,{not_mobile:!0,max_width:"80%",placeholder:t("http url"),icon:"link",value:L,handleInputChange:function(e){C(e)}}),r.createElement(i.rA,{icon:"send",title:t("发送"),onClick:me}),g(b.oV.http_proxy_tag_update)&&r.createElement(i.rA,{title:t("添加"),icon:"save_as",onClick:function(){if(g(b.oV.http_proxy_tag_update)){var e,n,o=st(G);try{for(o.s();!(e=o.n()).done;){if(e.value.is_file)return void(0,w.zN)(t("表单中含有文件，浏览器限制不能添加"))}}catch(e){o.e(e)}finally{o.f()}ce({open:!0,title:t("信息"),context_div:r.createElement("div",null,r.createElement("div",{className:"card-content"},r.createElement(a.Sm,{placeholderOut:t("输入标签名"),handleInputChange:function(e){return n=e}})),r.createElement("div",{className:"card-action"},r.createElement("button",{className:"button button--flat",onClick:yt(dt().m(function e(){var t;return dt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ye();case 1:(t=e.v).name=n,ae(t),ce({open:!1});case 2:return e.a(2)}},e)}))},t("确定"))))})}else(0,w.zN)("no permission")}})),r.createElement(ot.S,{isFlex:!0,columns:[r.createElement(a.U6,{value:1,name:"h_or_body",context:t("请求头"),selected:1===z,onchange:function(){fe(1)}}),r.createElement(a.U6,{value:2,name:"h_or_body",context:t("请求体"),selected:2===z,onchange:function(){fe(2)}})]}),2===z&&r.createElement(ot.S,{isFlex:!0,columns:[r.createElement(a.U6,{value:1,name:"body",context:t("row"),selected:1===W,onchange:function(){de(1)}}),r.createElement(a.U6,{value:2,name:"body",context:t("json"),selected:2===W,onchange:function(){de(2)}}),r.createElement(a.U6,{value:3,name:"body",context:t("form"),selected:3===W,onchange:function(){de(3)}})]}),r.createElement("div",{className:"http_ace",style:{display:1===z?"":"none"}},r.createElement(Et,{name:"",editor_id:0})),r.createElement("div",{className:"http_ace",style:{display:2===z&&3!==W?"":"none"}},r.createElement(Et,{name:"",editor_id:1})),r.createElement("div",{style:{display:3!==W||2!==z?"none":""}},r.createElement(ot.X,{headers:["key",t("值")],rows:G.map(function(e,n){var o=[r.createElement(a.Sm,{value:e.key,handleInputChange:function(t){e.key=t,B(ft(G))},no_border:!0}),r.createElement(a.Sm,{value:e.value,handleInputChange:function(t){e.value=t,e.is_file=!1,B(ft(G))},no_border:!0}),r.createElement("div",null,r.createElement(i.rA,{icon:"file_upload",title:t("上传文件"),onClick:function(){return function(e){u({show:!0,type:F.PromptEnum.UploadFile,overlay:!0,data:{extra_data:{only_file:!0},call:function(t){var n,r=null===(n=t.currentTarget)||void 0===n?void 0:n.files;if(r){var o=r[0];o.fullPath=(0,ct.hU)()+Date.now().toString(),G[e].value="".concat(o,"(").concat(o.name,")"),G[e].is_file=!0,G[e].fileName=o.name,G[e].fullPath=o.fullPath,B(ft(G)),G[e].file_object=o,u({overlay:!1,type:"",show:!1,data:{}})}}}})}(n)}}),r.createElement(i.rA,{icon:"delete",title:t("删除"),onClick:function(){return function(e){G.splice(e,1),B(ft(G))}(n)}}))];return o}),width:"10rem"})),r.createElement("div",{style:{paddingTop:"1rem"}},void 0===D?r.createElement("span",{onClick:function(){T("")}},t("下载到本地目录")):r.createElement(a.Sm,{placeholder:t("本地地址"),value:D,handleInputChange:function(e){T(e)},handlerEnter:function(){D||T(void 0)}}))),r.createElement(at.Zp,{title:ne,titleCom:r.createElement("div",{className:" div-row "},r.createElement(a.U6,{value:1,name:"respone",context:t("响应体"),selected:1===Q,onchange:function(){ee(1),E(_t)}}),r.createElement(a.U6,{value:1,name:"respone",context:t("响应头"),selected:2===Q,onchange:function(){ee(2),E(St)}}),r.createElement(i.rA,{title:"复制",icon:"copy_all",onClick:function(){S&&((0,it.l)(S),(0,w.LW)("完成"))}}))},r.createElement("textarea",{className:"input--textarea input--no_border",style:{width:"100%",height:"270px"},onChange:function(e){E(e.target.value)},value:S}))),r.createElement(o.VP,null,r.createElement(p.N,{getItems:ue,save:le,have_auth_edit:g(b.oV.http_proxy_tag_update),clickItem:se,items:[{key:"name",preName:t("名字")},{key:"url",preName:"url"},{key:"method",preName:"method"},{key:"headers",preName:"headers"},{key:"data",preName:"data"},{key:"form_data_list",preName:"form_data_list"},{key:"local_download_path",preName:"local_download_path"},{key:"color",preName:"color"}]})))))}var At=r.lazy(function(){return Promise.all([n.e(859),n.e(257),n.e(759)]).then(n.bind(n,5601))});function Nt(e){var t=(0,m.Bd)().t,n=(0,v.MH)().check_user_auth,a=[];return n(b.oV.http_proxy)&&a.push({index:1,name:t("http代理"),rto:"http/"}),n(b.oV.ssh_proxy)&&a.push({index:1,name:"ssh".concat(t("代理")),rto:"remoteShell/*"}),n(b.oV.browser_proxy)&&a.push({index:1,name:"".concat(t("浏览器")).concat(t("代理")),rto:"browserproxy/"}),n(b.oV.rdp_proxy)&&a.push({index:1,name:"rdp".concat(t("代理")),rto:"rdp/"}),n(b.oV.rtsp_proxy)&&a.push({index:1,name:t("rtsp播放器"),rto:"rtsp/"}),r.createElement(o.W1,{optionList:a},n(b.oV.http_proxy)&&r.createElement(kt,null),n(b.oV.ssh_proxy)&&r.createElement(Ke,null),n(b.oV.browser_proxy)&&r.createElement(N,null),n(b.oV.rdp_proxy)&&r.createElement(rt,null),n(b.oV.rtsp_proxy)&&r.createElement(r.Suspense,{fallback:r.createElement("div",null)},r.createElement(At,null)),r.createElement(Crypto,null))}},7481:(e,t,n)=>{n.d(t,{S:()=>c,X:()=>i});var r=n(6540);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e){var t,n=o(r.useState([]),2),a=n[0],i=n[1];return(0,r.useEffect)(function(){e.children?i(Array.isArray(e.children)?e.children:[e.children]):i(e.rows)},[e.rows,e.children]),r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,null===(t=e.headers)||void 0===t?void 0:t.map(function(e,t){return r.createElement("th",{key:t},e)}))),r.createElement("tbody",null,a.map(function(t,n){return r.createElement("tr",{key:n,onContextMenu:function(){e.handleContextMenu&&e.handleContextMenu(t)}},t.map(function(t,n){var o;return r.createElement("td",{style:{width:null!==(o=e.width)&&void 0!==o?o:"auto"},key:n,className:n===a.length-1?"small":""},t)}))})))}function c(e){return r.createElement("div",{style:{display:e.isFlex?"flex":"block"}},e.columns.map(function(e,t){return r.createElement("div",{key:t},e)}))}},8694:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{$K:()=>f,RB:()=>p,qB:()=>l,vo:()=>d,vr:()=>m});var l=i(function e(){u(this,e)}),s=function(e){return e[e.tcp=0]="tcp",e[e.udp=1]="udp",e}({}),f=i(function e(){u(this,e),o(this,"open",!1),o(this,"key",""),o(this,"async_ips",[])}),d=i(function e(){u(this,e),o(this,"open",!1),o(this,"key",""),o(this,"model",s.udp)}),p=function(e){return e[e.row=1]="row",e[e.json=2]="json",e[e.form=3]="form",e}({}),m=i(function e(){u(this,e)})},9240:(e,t)=>{function n(e){const t=e.lastIndexOf(".");return-1===t||0===t?"":e.slice(t)}function r(e){let t="\\";for(const n of e)if("/"===n||"\\"===n){t=n;break}return t}t.Jn=function(e,t){let n=r(e);if("."===t)return e;if(".."===t){if(e.length>1){let t=e[e.length-1]===n?1:0;for(let r=e.length-1-t;r>=0;r--)if(e[r]===n)return e.substring(0,r+1)}return e}return e.endsWith(n)&&t.startsWith(n)?e.slice(0,-1)+t:e.endsWith(n)||t.startsWith(n)?e+t:e+n+t},t.Z1=function(e){if("string"!=typeof e)return!1;return/^[a-zA-Z]:[\\\/]/.test(e)||/^\//.test(e)};const o={".com":4,".exe":3,".bat":2,".cmd":1}}}]);