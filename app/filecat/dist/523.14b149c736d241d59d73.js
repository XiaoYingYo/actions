/*! For license information please see 523.14b149c736d241d59d73.js.LICENSE.txt */
"use strict";(self.webpackChunkfilecat=self.webpackChunkfilecat||[]).push([[523],{447:(e,t,n)=>{n.d(t,{WA:()=>p,ZI:()=>_,Zp:()=>d,fq:()=>h,gz:()=>v,uF:()=>f,xP:()=>m});var r=n(6540),o=n(3413),a=n.n(o),l=n(505);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){return e[e.common=0]="common",e[e.full=1]="full",e}(u||{});function s(e,t){var n=t===u.common?"card-content":t===u.full?"card-content full":"";return r.createElement("div",{className:"card",style:{}},r.createElement("div",{className:"card-title"},e.self_title?e.self_title:r.createElement("h2",null,e.title),r.createElement("div",{className:"not-select-div"},e.titleCom&&e.titleCom)),r.createElement("div",{className:n},e.children),r.createElement("div",{className:"card-action card-action-bottom-right"},e.rightBottomCom))}function d(e){return s(e,u.common)}function f(e){return s(e,u.full)}function m(e){var t,n,o,c=(0,r.useRef)(null);return r.createElement("div",{className:"card-text"},r.createElement("div",{className:"card-text-context"},null!==(t=e.context)&&void 0!==t?t:e.children),r.createElement("div",{className:"card-text-tip",ref:c,onClick:function(){var t,n;(0,l.l)(null!==(t=null!==(n=e.tip_context)&&void 0!==n?n:e.context)&&void 0!==t?t:e.children),new(a())({type:"info",text:"复制完成",timeout:1e3,layout:"bottomLeft"}).show()}},null!==(n=null!==(o=e.tip_context)&&void 0!==o?o:e.context)&&void 0!==n?n:e.children))}function p(e){var t,n;return r.createElement("div",{className:"card-text"},r.createElement("div",{className:"card-text-context"},null!==(t=e.context)&&void 0!==t?t:e.children),r.createElement("div",{className:"card-text-tip"},null!==(n=e.context)&&void 0!==n?n:e.children))}function _(e){var t,n;return r.createElement("div",{className:"card floating",onKeyPress:function(t){"Enter"===t.key&&e.confirm_enter&&e.confirm_enter()}},r.createElement("div",{className:"card-title"},r.createElement("h2",null,e.title)),r.createElement("div",{className:"card-content"},e.context&&e.context.map(function(e,t){return r.createElement("div",{key:t},e)})),r.createElement("div",{className:"card-action"},r.createElement("button",{className:"button button--flat button--grey",onClick:e.cancel},null!==(t=e.cancel_t)&&void 0!==t?t:"cancel"),r.createElement("button",{className:"button button--flat",onClick:e.confirm},null!==(n=e.confirm_t)&&void 0!==n?n:"confirm")))}function v(e){return r.createElement("div",{className:"progress-card"},r.createElement("div",{className:"progress-per"},r.createElement("div",{style:{width:"".concat(e.progress,"%")}})))}var h=function(e){var t=c((0,r.useState)("var(--iconTertiary)"),2),n=t[0],o=t[1];(0,r.useEffect)(function(){void 0===e.ok?void 0===e.success?void 0!==e.running&&o("var(--icon-yellow)"):!0===e.success?o("var(--icon-green)"):!1===e.success&&o("var(--icon-red)"):o(e.ok?"var(--icon-green)":"var(--iconTertiary)")},[e]);var a={width:"10px",height:"10px",borderRadius:"50%",backgroundColor:n,display:"inline-block"};return r.createElement("div",{style:a})}},1251:(e,t,n)=>{n.d(t,{s:()=>s});var r=n(2635),o=1,a=60*o,l=24*a,c=30*l,i=365*l,u=6e4;function s(e){e=e>1e12?e:1e3*e;var t=Date.now(),n=Math.abs(t-e)/u;return n<o?r.Ay.t("小于一分钟"):n<a?"".concat(n.toFixed(0)," ").concat(r.Ay.t("分钟前")):n<l?"".concat((n/a).toFixed(0)," ").concat(r.Ay.t("小时前")):n<c?"".concat((n/l).toFixed(0)," ").concat(r.Ay.t("天前")):n<i?"".concat((n/c).toFixed(0)," ").concat(r.Ay.t("月前")):"".concat((n/i).toFixed(0)," ").concat(r.Ay.t("年前"))}},3033:(e,t,n)=>{n.d(t,{$Z:()=>u,GL:()=>_,Sm:()=>d,U6:()=>p,cA:()=>f,l6:()=>m});var r=n(6540);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=(0,r.useRef)(null),n=c(r.useState(""),2),o=n[0],a=n[1];return(0,r.useEffect)(function(){var n=e.value;null==n&&(n=""),t.current.value=n,a(e.value||"")},[e.value]),r.createElement("div",{id:"search",className:"",style:{maxWidth:e.max_width,display:e.not_mobile?"block":void 0}},r.createElement("div",{id:"input"},r.createElement("i",{className:"material-icons"},e.icon),r.createElement("input",{type:"text",ref:t,placeholder:o||e.placeholder,onChange:function(t){e.handleInputChange&&e.handleInputChange(t.target.value,t.target),a(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&e.handleEnterPress&&e.handleEnterPress()}})))}function s(e){var t=(0,r.useRef)(null),n=c(r.useState(""),2),o=n[0],a=n[1],l=c(r.useState("input input--block"),2),i=l[0],u=l[1];return(0,r.useEffect)(function(){a(void 0===e.value||null===e.value?"":e.value),e.focus&&t.current.focus(),e.no_border&&u("".concat(i," input--no_border"))},[e.value]),r.createElement(r.Fragment,null,e.placeholderOut&&r.createElement("p",null,e.placeholderOut),r.createElement("div",{style:{display:"flex",alignItems:"center",width:e.width,maxWidth:e.maxWidth}},e.left_placeholder&&r.createElement("div",{style:{paddingRight:".3rem",width:"auto",whiteSpace:"nowrap"}},e.left_placeholder),r.createElement("input",{onClick:function(e){e.stopPropagation()},disabled:!!e.disabled,className:i,type:e.type,placeholder:o||e.placeholder,onChange:function(t){e.handleInputChange&&e.handleInputChange(t.target.value,t.target),a(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&e.handlerEnter&&e.handlerEnter(t.target.value)},value:o,ref:t}),e.right_placeholder&&r.createElement("div",{style:{paddingLeft:".3rem",width:"auto",whiteSpace:"nowrap"}},e.right_placeholder)))}function d(e){return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))}function f(e){return s({placeholder:e.placeholder,type:"password",handleInputChange:e.handleInputChange,handlerEnter:e.handleEnterPress,maxWidth:e.maxWidth,width:e.width})}function m(e){return r.createElement("div",{style:{display:"flex"}},e.tip&&r.createElement("p",{className:"input input_left "},e.tip),r.createElement("select",{defaultValue:e.defaultValue,value:e.value,style:{width:e.width},disabled:!!e.disabled,className:"input input--block  ".concat(e.no_border?"input--no_border":""),onChange:function(t){return e.onChange(t.target.value)}},e.options.map(function(e,t){return r.createElement("option",{key:t,value:e.value},e.title)})))}function p(e){var t;return r.createElement("div",{className:"input_radio_row"},r.createElement("input",{type:"radio",checked:e.selected,name:null!==(t=e.name)&&void 0!==t?t:"common_name",value:e.value,className:"input_radio",onChange:function(){e.onchange&&e.onchange(e.value)}}),e.context)}function _(e){var t,n=c((0,r.useState)(!1),2),o=n[0],a=n[1];return(0,r.useEffect)(function(){a(!!e.selected)},[e.selected]),r.createElement("div",{className:"input_radio_row"},r.createElement("input",{type:"checkbox",disabled:null!==(t=e.is_disable)&&void 0!==t&&t,checked:o,onChange:function(){e.onchange&&e.onchange()}}),e.context)}},3496:(e,t,n)=>{n.d(t,{s:()=>r});var r=function(e){return e.setting_sys_option_status_save="sys_option/status/save",e.setting_customer_router="customer_router",e.setting_customer_router_save="customer_router/save",e.setting_customer_workflow_router="customer_router/workflow",e.setting_customer_workflow_router_save="customer_router/workflow/save",e.user_save_user_file_list_show_type="save_user_file_list_show_type",e}({})},4777:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Gd:()=>u,Mu:()=>d,aM:()=>i,jk:()=>s});var i=function(e){return e[e.close=0]="close",e[e.length=1]="length",e[e.forver=2]="forver",e}({}),u=a(function e(){c(this,e)}),s=function(e){return e.ffmpeg="ffmpeg",e.smartmontools="smartmontools",e.ntfs_3g="ntfs_3g",e}({}),d=function(e){return e[e.auth=0]="auth",e[e.cmd=1]="cmd",e[e.cyc=2]="cyc",e[e.sys_env=3]="sys_env",e}({})},7481:(e,t,n)=>{n.d(t,{S:()=>c,X:()=>l});var r=n(6540);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t,n=o(r.useState([]),2),a=n[0],l=n[1];return(0,r.useEffect)(function(){e.children?l(Array.isArray(e.children)?e.children:[e.children]):l(e.rows)},[e.rows,e.children]),r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,null===(t=e.headers)||void 0===t?void 0:t.map(function(e,t){return r.createElement("th",{key:t},e)}))),r.createElement("tbody",null,a.map(function(t,n){return r.createElement("tr",{key:n,onContextMenu:function(){e.handleContextMenu&&e.handleContextMenu(t)}},t.map(function(t,n){var o;return r.createElement("td",{style:{width:null!==(o=e.width)&&void 0!==o?o:"auto"},key:n,className:n===a.length-1?"small":""},t)}))})))}function c(e){return r.createElement("div",{style:{display:e.isFlex?"flex":"block"}},e.columns.map(function(e,t){return r.createElement("div",{key:t},e)}))}},8523:(e,t,n)=>{n.r(t),n.d(t,{default:()=>We});var r=n(6540),o=n(5725),a=n(3430),l=n(3413),c=n.n(l),i=n(6007),u=n(3459),s=n(447),d=n(5997),f=n(3033),m=n(7481),p=n(2389);function _(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return h(u,"_invoke",function(n,r,o){var a,c,i,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,c=0,i=e,f.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!d&&u&&!o&&t<s.length;t++){var o,a=s[t],m=f.p,p=a[2];n>3?(o=p===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,f.v=r,f.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,c=0))}if(o||n>1)return l;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!d;){a||(c?c<3?(c>1&&(f.n=-1),m(c,i)):f.n=i:f.v=i);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==l)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(h(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,h(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,h(d,"constructor",u),h(u,"constructor",i),i.displayName="GeneratorFunction",h(u,o,"GeneratorFunction"),h(d),h(d,o,"Generator"),h(d,r,function(){return this}),h(d,"toString",function(){return"[object Generator]"}),(v=function(){return{w:a,m:f}})()}function h(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}h=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){h(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},h(e,t,n,r)}function y(e,t,n,r,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){y(a,r,o,l,c,"next",e)}function c(e){y(a,r,o,l,c,"throw",e)}l(void 0)})}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e){var t=(0,p.Bd)().t,n=E((0,r.useState)([]),2),a=n[0],l=n[1],c=function(){var t=b(v().m(function t(){var n;return v().w(function(t){for(;;)switch(t.n){case 0:if(!e.getItems){t.n=2;break}return t.n=1,e.getItems();case 1:n=t.v,l(n);case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}();(0,r.useEffect)(function(){c()},[]);var i=function(){var t=b(v().m(function t(){return v().w(function(t){for(;;)switch(t.n){case 0:if(!e.save){t.n=1;break}return t.n=1,e.save(a);case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}();return r.createElement(o.xh,null,r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,e.title),e.info_click&&r.createElement(d.rA,{icon:"info",onClick:function(){e.info_click()},title:"信息"})),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:t("添加"),onClick:function(){for(var t=[],n=0;n<e.headers.length-1;n++)t.push("");l([t].concat(_(a)))}}),r.createElement(d.rA,{icon:"save",title:t("保存"),onClick:i}))},r.createElement(m.X,{headers:e.headers,rows:a.map(function(n,o){for(var c=[],i=function(e){c.push(r.createElement(f.Sm,{value:n[e],handleInputChange:function(t){n[e]=t,l(_(a))},no_border:!0}))},u=0;u<e.headers.length;u++)i(u);return c.push(r.createElement(d.rA,{icon:"delete",title:t("删除"),onClick:function(){return function(e){a.splice(e,1),l(_(a))}(o)}})),c}),width:"10rem"})))}var S=n(7444),x=n(6417),C=n(8247),A=n(2042);function O(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return V(u,"_invoke",function(n,r,o){var a,c,i,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,c=0,i=e,f.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!d&&u&&!o&&t<s.length;t++){var o,a=s[t],m=f.p,p=a[2];n>3?(o=p===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,f.v=r,f.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,c=0))}if(o||n>1)return l;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!d;){a||(c?c<3?(c>1&&(f.n=-1),m(c,i)):f.n=i:f.v=i);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==l)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(V(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,V(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,V(d,"constructor",u),V(u,"constructor",i),i.displayName="GeneratorFunction",V(u,o,"GeneratorFunction"),V(d),V(d,o,"Generator"),V(d,r,function(){return this}),V(d,"toString",function(){return"[object Generator]"}),(j=function(){return{w:a,m:f}})()}function V(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}V=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){V(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},V(e,t,n,r)}function I(e,t,n,r,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){I(a,r,o,l,c,"next",e)}function c(e){I(a,r,o,l,c,"throw",e)}l(void 0)})}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function X(){var e=(0,p.Bd)().t,t=N((0,S.L4)(x.A.prompt_card),2),n=(t[0],t[1]),a=[e("路由"),e("auth"),e("备注")],l=N((0,S.L4)(x.A.editorSetting),2),_=(l[0],l[1]),v=N((0,r.useState)([]),2),h=v[0],y=v[1],b=function(){var e=P(j().m(function e(){var t;return j().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.get("api/customer_router");case 1:(t=e.v).code===u.m.Sucess&&y(t.data);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)(function(){b()},[]);var E=function(){var e=P(j().m(function e(){return j().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post("api/customer_router/save",h);case 1:e.v.code===u.m.Sucess&&new(c())({type:"success",text:"保存成功",timeout:1e3,layout:"bottomLeft"}).show();case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=P(j().m(function e(t){var n;return j().w(function(e){for(;;)switch(e.n){case 0:if(t.router){e.n=1;break}return(0,A.zN)("路由不能为空"),e.a(2);case 1:return e.n=2,i.XO.get("jscode/".concat(encodeURIComponent(t.router)));case 2:n=e.v,_({model:"ace/mode/javascript",open:!0,fileName:t.router,save:function(){var e=P(j().m(function e(n){var r;return j().w(function(e){for(;;)switch(e.n){case 0:return r={context:n,router:t.router},e.n=1,i.XO.post("jscode/save",r);case 1:0===e.v.code&&(C.xK.set_value_temp(""),_({open:!1,model:"",fileName:"",save:null}));case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()}),C.xK.set_value_temp(n.data);case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return r.createElement(o.xh,null,r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,e("自定义api路由"))," ",r.createElement(d.rA,{icon:"info",onClick:function(){var e;e=r.createElement("div",null,'默认需要以 "/api" 开头的路由。'),n({open:!0,title:"信息",context_div:r.createElement("div",null,e)})},title:"信息"})),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:e("添加"),onClick:function(){y([{note:"",needAuth:!1,router:""}].concat(O(h)))}}),r.createElement(d.rA,{icon:"save",title:e("保存"),onClick:E}))},r.createElement(m.X,{headers:a,rows:h.map(function(t,n){var o=[r.createElement(f.Sm,{value:t.router,handleInputChange:function(e){t.router=e,y(O(h))},no_border:!0}),r.createElement(f.l6,{defaultValue:t.needAuth,onChange:function(e){t.needAuth="true"===e,y(O(h))},options:[{title:e("是"),value:!0},{title:e("否"),value:!1}],no_border:!0}),r.createElement(f.Sm,{value:t.note,handleInputChange:function(e){t.note=e,y(O(h))},no_border:!0}),r.createElement("div",null,r.createElement(d.rA,{icon:"delete",title:e("删除"),onClick:function(){return function(e){h.splice(e,1),y(O(h))}(n)}}),r.createElement(d.rA,{icon:"edit",title:e("编辑"),onClick:function(){return g(t)}}))];return o}),width:"10rem"})))}var G=n(3496),L=n(7952);function M(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=K(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}function z(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return B(u,"_invoke",function(n,r,o){var a,c,i,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,c=0,i=e,f.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!d&&u&&!o&&t<s.length;t++){var o,a=s[t],m=f.p,p=a[2];n>3?(o=p===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,f.v=r,f.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,c=0))}if(o||n>1)return l;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!d;){a||(c?c<3?(c>1&&(f.n=-1),m(c,i)):f.n=i:f.v=i);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==l)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(B(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,B(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,B(d,"constructor",u),B(u,"constructor",i),i.displayName="GeneratorFunction",B(u,o,"GeneratorFunction"),B(d),B(d,o,"Generator"),B(d,r,function(){return this}),B(d,"toString",function(){return"[object Generator]"}),(z=function(){return{w:a,m:f}})()}function B(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}B=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){B(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},B(e,t,n,r)}function U(e,t,n,r,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){U(a,r,o,l,c,"next",e)}function c(e){U(a,r,o,l,c,"throw",e)}l(void 0)})}}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function D(){var e=(0,p.Bd)().t,t=$((0,S.L4)(x.A.prompt_card),2),n=(t[0],t[1]),a=$((0,S.L4)(x.A.router_jump),2),l=a[0],s=a[1],d=[e("路由"),e("路径"),e("过期时间(s)"),e("备注")],f=[e("路由"),e("文件路径"),"token","user id",e("备注")],m=function(){var e=Z(z().m(function e(t){return z().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post(G.s.setting_customer_router_save,t);case 1:e.v.code===u.m.Sucess&&new(c())({type:"success",text:"保存成功",timeout:1e3,layout:"bottomLeft"}).show();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Z(z().m(function e(){var t,n,r,o;return z().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.get(G.s.setting_customer_router);case 1:if((t=e.v).code!==u.m.Sucess){e.n=2;break}if(null!=l&&l.page_self_router_api_data){n=W(t.data);try{for(n.s();!(r=n.n()).done;)r.value[1]===(null==l?void 0:l.page_self_router_api_data[1])&&(0,A.N9)("已经存在的页面资源路由配置目录设置")}catch(e){n.e(e)}finally{n.f()}o={},Object.assign(o,null==l?void 0:l.page_self_router_api_data),t.data=[o].concat(M(t.data)),s({})}return e.a(2,t.data);case 2:return e.a(2,[])}},e)}));return function(){return e.apply(this,arguments)}}();return r.createElement(r.Fragment,null,r.createElement(L.A,null),r.createElement(o.fI,null,r.createElement(o.VP,null,r.createElement(k,{title:e("页面资源路由"),headers:d,getItems:_,save:m,info_click:function(){var e=r.createElement("div",null,'默认需要以 "/api" 开头的路由，会自动识别地址，将页面转到对应结果。路径支持文件路径（如果是文件夹路径的最后最后一个名字将会成为资源实际地址，整个目录将会变成一个http目录），http地址。');n({open:!0,title:"信息",context_div:r.createElement("div",null,e)})}}),r.createElement(k,{title:e("workflow触发路由"),headers:f,getItems:Z(z().m(function e(){var t;return z().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.get(G.s.setting_customer_workflow_router);case 1:if((t=e.v).code!==u.m.Sucess){e.n=2;break}return e.a(2,t.data);case 2:return e.a(2,[])}},e)})),save:function(){var e=Z(z().m(function e(t){return z().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post(G.s.setting_customer_workflow_router_save,t);case 1:e.v.code===u.m.Sucess&&new(c())({type:"success",text:"保存成功",timeout:1e3,layout:"bottomLeft"}).show();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),info_click:function(){var e=r.createElement("div",null,'默认需要以 "/api" 开头的路由，文件路径是有效的workflow路径。token也可以是文件绝对路径，请求的时候请设置同样的authorization请求头字段。');n({open:!0,title:"信息",context_div:r.createElement("div",null,e)})}})),r.createElement(o.VP,null,r.createElement(X,null))))}var H=function(e){return e.username="username",e.password="password",e.password_hash="password_hash",e.navindex_remote_ssh_key="navindex_remote_ssh_key",e.user_id_name_mapping="user_id_name_mapping",e.user_id_info_data_mapping="user_id_info_data_mapping",e.user_unique_id_num="user_unique_id_num",e.role_unique_id_num="role_unique_id_num",e.sys_all_roles="sys_all_roles",e.ddns_http_url_key="ddns_http_url_key",e.ddns_tx_key="tengxun_ddns_key",e.ddns_dnspod_key="ddns_dnspod",e.ddns_ali_key="ali_ddns_key",e.navindex_net_key_list="navindex_net_key_list",e.navindex_wol_key="navindex_wol_key",e.customer_router_key="customer_router_key",e.customer_workflow_router_key="customer_workflow_router_key",e.customer_api_router_key="customer_api_router_key",e.token_setting="token_setting",e.sys_software="sys_software",e.protection_directory="sys_protection_directory",e.dir_upload_max_num="dir_upload_max_num",e.self_auth_jscode="self_auth_jscode",e.navindex_video_key="navindex_video_tag_key",e.systemd_key="systemd_key",e.vir_server_data_key="vir_server_net_data_key",e.vir_client_data_key="vir_client_net_data_key",e.vir_data_client_hash_key="vir_data_client_hash_key",e.vir_data_server_hash_key="vir_data_server_hash_key",e.language="user_language",e.navindex_rdp_key="navindex_rdp_tag_key",e.navindex_key="navindex_key_list",e.http_tag_key="http_tag_key",e.self_shell_cmd_check_open_status="self_shell_cmd_check_open_status",e.self_shell_cmd_jscode="self_shell_cmd_jscode",e.extra_env_path_list_key="extra_env_path_list_key",e.cmd_use_pty_key="cmd_use_pty_key",e.recycle_bin_key="recycle_bin_key",e.recycle_bin_status="recycle_bin_status",e.guid_key="guid_key",e.tcp_proxy_key="tcp_proxy_key",e.sys_env_key="sys_env_key",e}({});var R=H.self_auth_jscode,J=n(4777),Y=n(1251),Q=n(7523);function ee(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return te(u,"_invoke",function(n,r,o){var a,c,i,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,c=0,i=e,f.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!d&&u&&!o&&t<s.length;t++){var o,a=s[t],m=f.p,p=a[2];n>3?(o=p===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,f.v=r,f.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,c=0))}if(o||n>1)return l;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!d;){a||(c?c<3?(c>1&&(f.n=-1),m(c,i)):f.n=i:f.v=i);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==l)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(te(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,te(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,te(d,"constructor",u),te(u,"constructor",i),i.displayName="GeneratorFunction",te(u,o,"GeneratorFunction"),te(d),te(d,o,"Generator"),te(d,r,function(){return this}),te(d,"toString",function(){return"[object Generator]"}),(ee=function(){return{w:a,m:f}})()}function te(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}te=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){te(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},te(e,t,n,r)}function ne(e,t,n,r,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){ne(a,r,o,l,c,"next",e)}function c(e){ne(a,r,o,l,c,"throw",e)}l(void 0)})}}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function le(){var e=oe((0,r.useState)(""),2),t=e[0],n=e[1],l=oe((0,r.useState)(""),2),c=l[0],_=l[1],v=oe((0,r.useState)(""),2),h=v[0],y=v[1],b=oe((0,r.useState)(!1),2),E=b[0],g=b[1],w=oe((0,r.useState)(!1),2),k=w[0],O=w[1],j=oe((0,r.useState)(!1),2),V=j[0],I=j[1],P=oe((0,r.useState)(""),2),N=P[0],T=P[1],F=oe((0,S.L4)(x.A.prompt_card),2),X=(F[0],F[1]),M=oe((0,S.L4)(x.A.editorSetting),2),W=(M[0],M[1]),z=oe((0,r.useState)(J.aM.close),2),B=z[0],U=z[1],Z=oe((0,r.useState)(void 0),2),$=Z[0],K=Z[1],q=(0,p.Bd)(),D=q.t,H=(q.i18n,oe((0,S.L4)(x.A.user_base_info),2)),te=H[0],ne=(H[1],(0,C.MH)().check_user_auth,oe((0,r.useState)(""),2)),ae=ne[0],le=ne[1],ce=oe((0,r.useState)(""),2),ie=ce[0],ue=ce[1],se=(0,r.useContext)(Q.F).initUserInfo,de=function(){var e=re(ee().m(function e(){var t;return ee().w(function(e){for(;;)switch(e.n){case 0:if(c&&h){e.n=1;break}return(0,A.zN)("账号密码不能为空"),e.a(2);case 1:return(t=new a.tl).username=c,t.password=h,t.user_id=te.user_data.id,e.n=2,i.wm.post("updatePassword",t);case 2:e.v.code===u.m.Sucess&&(0,A.LW)("修改成功");case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=re(ee().m(function e(){return ee().w(function(e){for(;;)switch(e.n){case 0:if(!V){e.n=1;break}if(N){e.n=1;break}return(0,A.zN)("目录不能为空"),e.a(2);case 1:return e.n=2,i.XO.post(G.s.setting_sys_option_status_save,{type:J.Mu.cyc,value:N,open:V});case 2:e.v.code===u.m.Sucess&&(0,A.LW)("修改成功");case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)(function(){var e,t,r=function(){var e=re(ee().m(function e(){var t,r,o,a;return ee().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.get("sys_option/status");case 1:return(t=e.v).code===u.m.Sucess&&(g(t.data.self_auth_open),O(t.data.shell_cmd_check_open),I(t.data.recycle_open),T(t.data.recycle_dir),r=t.data.sys_env,n(null==r?void 0:r.web_site_title)),e.n=2,i.XO.get("token");case 2:if((o=e.v).code!==u.m.Sucess){e.n=4;break}if(a=o.data){e.n=3;break}return e.a(2);case 3:a.length&&K(a.length),a.mode&&U(a.mode);case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();r(),le(null==te||null===(e=te.user_data)||void 0===e?void 0:e.language),ue(null==te||null===(t=te.user_data)||void 0===t?void 0:t.theme)},[]);var me=function(){var e=re(ee().m(function e(){var t;return ee().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.get("self_auth_open/jscode");case 1:t=e.v,W({model:"ace/mode/javascript",open:!0,fileName:"",save:function(){var e=re(ee().m(function e(t){var n;return ee().w(function(e){for(;;)switch(e.n){case 0:return n={context:t,router:R},e.n=1,i.XO.post("jscode/save",n);case 1:0===e.v.code&&(C.xK.set_value_temp(""),W({open:!1,model:"",fileName:"",save:null}));case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()}),C.xK.set_value_temp(t.data);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=re(ee().m(function e(){var t;return ee().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.get("shell_cmd_check_open/jscode");case 1:t=e.v,W({model:"ace/mode/javascript",open:!0,fileName:"",save:function(){var e=re(ee().m(function e(t){var n;return ee().w(function(e){for(;;)switch(e.n){case 0:return n={context:t},e.n=1,i.XO.post("shell_cmd_check_open/jscode/save",n);case 1:0===e.v.code&&(C.xK.set_value_temp(""),W({open:!1,model:"",fileName:"",save:null}));case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()}),C.xK.set_value_temp(t.data);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=re(ee().m(function e(){return ee().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post("self_auth_open/save",{open:E});case 1:e.v.code===u.m.Sucess&&(0,A.LW)("修改成功");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=re(ee().m(function e(){return ee().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post("shell_cmd_check_open/save",{open:k});case 1:e.v.code===u.m.Sucess&&(0,A.LW)("修改成功");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=re(ee().m(function e(){var t;return ee().w(function(e){for(;;)switch(e.n){case 0:return(t=new J.Gd).mode=B,J.aM.length!==t.mode||$||(0,A.zN)("秒数不能为空"),t.length=parseInt($),e.n=1,i.XO.post("token/save",t);case 1:e.v.code===u.m.Sucess&&(0,A.LW)("保存成功");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=re(ee().m(function e(){return ee().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.get("token/clear");case 1:e.v.code===u.m.Sucess&&(0,A.LW)("清理完成，重新登录");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),be=function(){var e=re(ee().m(function e(){return ee().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post(G.s.setting_sys_option_status_save,{type:J.Mu.sys_env,value:{web_site_title:t,language:ae,theme:ie}});case 1:if(e.v.code!==u.m.Sucess){e.n=2;break}(0,A.LW)("修改成功"),e.n=3;break;case 2:return e.a(2);case 3:se();case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return r.createElement(o.fI,null,r.createElement(o.VP,{widthPer:30},r.createElement(o.xh,null,r.createElement(s.Zp,{title:D("修改密码"),rightBottomCom:r.createElement(d.C3,{text:D("确定修改"),clickFun:de})},r.createElement(f.Sm,{placeholder:D("新账号"),value:c,handleInputChange:function(e){_(e)}}),r.createElement(f.Sm,{placeholder:D("新密码"),value:h,handleInputChange:function(e){y(e)}})),r.createElement(s.Zp,{title:D("自定义登录auth"),rightBottomCom:r.createElement(d.C3,{text:D("保存"),clickFun:_e}),titleCom:r.createElement(d.rA,{icon:"edit",title:D("代码修改"),onClick:me})},r.createElement(f.l6,{value:E,onChange:function(e){g("true"===e)},options:[{title:D("开启"),value:!0},{title:D("关闭"),value:!1}]})),r.createElement(s.Zp,{title:D("自定义shell命令校验"),rightBottomCom:r.createElement(d.C3,{text:D("保存"),clickFun:ve}),titleCom:r.createElement(d.rA,{icon:"edit",title:D("代码修改"),onClick:pe})},r.createElement(f.l6,{value:k,onChange:function(e){O("true"===e)},options:[{title:D("开启"),value:!0},{title:D("关闭"),value:!1}]})))),r.createElement(o.VP,{widthPer:30},r.createElement(o.xh,null,r.createElement(s.Zp,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,D("文件回收站"))," ",r.createElement(d.rA,{icon:"info",onClick:function(){X({open:!0,title:"信息",context_div:r.createElement("div",null,D("格式：[被删除的文件所在父目录] 回收站目录 [; ...]"))})},title:"信息"})),rightBottomCom:r.createElement(d.C3,{text:D("确定修改"),clickFun:fe})},r.createElement(f.Sm,{placeholder:D("目录"),value:N,handleInputChange:function(e){T(e)}}),r.createElement(f.l6,{value:V,onChange:function(e){I("true"===e)},options:[{title:D("开启"),value:!0},{title:D("关闭"),value:!1}]})),r.createElement(s.Zp,{title:D("token过期时间"),rightBottomCom:r.createElement(m.S,{isFlex:!0,columns:[r.createElement(d.C3,{text:D("清空token"),clickFun:ye}),r.createElement(d.C3,{text:D("保存"),clickFun:he})]})},r.createElement(m.S,{isFlex:!0,columns:[r.createElement(f.U6,{value:1,context:D("关闭"),selected:B===J.aM.close,onchange:function(){U(J.aM.close)}}),r.createElement(f.U6,{value:1,context:D("指定时间"),selected:B===J.aM.length,onchange:function(){U(J.aM.length)}}),r.createElement(f.U6,{value:1,context:D("永不过期"),selected:B===J.aM.forver,onchange:function(){U(J.aM.forver)}})]}),B===J.aM.length&&r.createElement(f.Sm,{placeholder:D("秒"),value:$,handleInputChange:function(e){K(e)}})))),r.createElement(o.VP,{widthPer:40},r.createElement(o.xh,null,r.createElement(s.Zp,{title:D("通用设置"),rightBottomCom:r.createElement(d.C3,{text:D("确定修改"),clickFun:be})},D("语言"),r.createElement(f.l6,{value:ae,onChange:function(e){le(e)},options:[{title:"English",value:"en"},{title:"中文",value:"zh"},{title:"Deutsch",value:"de"},{title:"ドイツ語",value:"ja"},{title:"독일어",value:"ko"},{title:"Немецкий язык",value:"ru"},{title:"Allemand",value:"fr"},{title:"Alemán",value:"es"}]}),D("主题"),r.createElement(f.l6,{value:ie,onChange:function(e){ue(e)},options:[{title:"light",value:"light"},{title:"dark",value:"dark"}]}),D("网站标题"),r.createElement(f.Sm,{value:t,handleInputChange:function(e){n(e)}})))),r.createElement(L.A,{left_children:r.createElement("span",null,r.createElement("span",{className:"credits"},"version:".concat("5.7.4")),r.createElement("span",{className:"credits"},D("系统运行于"),": ",(0,Y.s)(te.runing_time_length)),r.createElement("span",{className:"credits"},r.createElement("a",{href:D("官网地址")},D("功能文档"))))}))}var ce=n(4694);function ie(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_e(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}function se(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return de(u,"_invoke",function(n,r,o){var a,c,i,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,c=0,i=e,f.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!d&&u&&!o&&t<s.length;t++){var o,a=s[t],m=f.p,p=a[2];n>3?(o=p===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,f.v=r,f.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,c=0))}if(o||n>1)return l;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!d;){a||(c?c<3?(c>1&&(f.n=-1),m(c,i)):f.n=i:f.v=i);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==l)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(de(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,de(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,de(d,"constructor",u),de(u,"constructor",i),i.displayName="GeneratorFunction",de(u,o,"GeneratorFunction"),de(d),de(d,o,"Generator"),de(d,r,function(){return this}),de(d,"toString",function(){return"[object Generator]"}),(se=function(){return{w:a,m:f}})()}function de(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}de=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){de(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},de(e,t,n,r)}function fe(e,t,n,r,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function me(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){fe(a,r,o,l,c,"next",e)}function c(e){fe(a,r,o,l,c,"throw",e)}l(void 0)})}}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||_e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){if(e){if("string"==typeof e)return ve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function he(){var e=(0,p.Bd)(),t=e.t,n=(e.i18n,(0,r.useContext)(Q.F)),a=n.initUserInfo,l=n.reloadUserInfo,c=pe((0,r.useState)([]),2),_=c[0],v=c[1],h=pe((0,r.useState)([]),2),y=h[0],b=h[1],E=pe((0,S.L4)(x.A.prompt_card),2),g=(E[0],E[1]),w=pe((0,r.useState)([]),2),k=w[0],O=w[1],j=pe((0,r.useState)([]),2),V=j[0],I=j[1],P=pe((0,r.useState)([]),2),N=P[0],T=P[1],F=pe((0,r.useState)([]),2),X=F[0],G=F[1],L=pe((0,r.useState)([]),2),M=L[0],W=L[1],z=pe((0,r.useState)(""),2),B=z[0],U=z[1],Z=[t("编号"),t("路径"),t("是否默认"),t("备注")],$=[t("软件"),t("是否安装"),t("路径")],K=[t("编号"),t("路径"),t("备注")],q=[t("编号"),t("命令"),t("父编号"),t("备注")],D=[t("编号"),t("路径"),t("备注")],H=[t("编号"),t("路径"),t("单用户并发数量"),t("系统并发数量"),t("是否开启大文件断点"),t("大文件判断大小MB"),t("大文件并发数量"),t("大文件分块大小MB"),t("备注")],R=((0,C.MH)().check_user_auth,function(){var e=me(se().m(function e(){var t,n,r,o,a,l,c,s,d,f;return se().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.get("filesSetting");case 1:return(t=e.v).code===u.m.Sucess&&(v(t.data.dirs),T(t.data.quick_cmd)),e.n=2,i.XO.get("outside/software/get");case 2:return(n=e.v).code===u.m.Sucess&&b(n.data),e.n=3,i.XO.get("env/path/get");case 3:return(r=e.v).code===u.m.Sucess&&W(r.data),e.n=4,i.XO.get("protection_dir");case 4:return(o=e.v).code===u.m.Sucess&&O(null!==(a=o.data)&&void 0!==a?a:[]),e.n=5,i.XO.get("pty_cmd");case 5:return(l=e.v).code===u.m.Sucess&&U(l.data),e.n=6,i.XO.get("protection_dir/sys");case 6:return(c=e.v).code===u.m.Sucess&&I(null!==(s=c.data)&&void 0!==s?s:[]),e.n=7,i.XO.get("dir_upload_max_num");case 7:(d=e.v).code===u.m.Sucess&&G(null!==(f=d.data)&&void 0!==f?f:[]);case 8:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}());(0,r.useEffect)(function(){R()},[]);var Y=function(){var e=me(se().m(function e(){return se().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post("pty_cmd/save",{str:B});case 1:e.v.code===u.m.Sucess&&((0,A.LW)("保存成功"),l());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=me(se().m(function e(){var t;return se().w(function(e){for(;;)switch(e.n){case 0:for(t=0;t<_.length;t++)_[t].index=t;return e.n=1,i.XO.post("filesSetting/save",{dirs:_});case 1:e.v.code===u.m.Sucess&&((0,A.LW)("保存成功"),l());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),te=function(){var e=me(se().m(function e(){return se().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post("filesSetting/save",{quick_cmd:N});case 1:e.v.code===u.m.Sucess&&((0,A.LW)("保存成功"),a());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=me(se().m(function e(){return se().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post("protection_dir/save",k);case 1:e.v.code===u.m.Sucess&&((0,A.LW)("保存成功"),l());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=me(se().m(function e(){return se().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post("protection_dir/sys/save",V);case 1:e.v.code===u.m.Sucess&&((0,A.LW)("保存成功"),l());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=me(se().m(function e(){var t,n,r,o,a,c,s;return se().w(function(e){for(;;)switch(e.n){case 0:t=ue(X),e.p=1,t.s();case 2:if((n=t.n()).done){e.n=6;break}if(!(r=n.value).open_ws_file){e.n=5;break}if("number"==typeof r.ws_file_block_mb_size){e.n=3;break}return(0,A.zN)("编号:".concat(null!==(o=r.index)&&void 0!==o?o:""," 文件块的大小设置有问题")),e.a(2);case 3:if("number"==typeof r.ws_file_parallel_num){e.n=4;break}return(0,A.zN)("编号:".concat(null!==(a=r.index)&&void 0!==a?a:""," 并发数量设置有问题")),e.a(2);case 4:if("number"==typeof r.ws_file_standard_size){e.n=5;break}return(0,A.zN)("编号:".concat(null!==(c=r.index)&&void 0!==c?c:""," 大文件size设置有问题")),e.a(2);case 5:e.n=2;break;case 6:e.n=8;break;case 7:e.p=7,s=e.v,t.e(s);case 8:return e.p=8,t.f(),e.f(8);case 9:return(0,ce.di)(X,function(e){return e.index}),e.n=10,i.XO.post("dir_upload_max_num/save",X);case 10:e.v.code===u.m.Sucess&&((0,A.LW)("保存成功"),l());case 11:return e.a(2)}},e,null,[[1,7,8,9]])}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=me(se().m(function e(){return se().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post("outside/software/save",y);case 1:e.v.code===u.m.Sucess&&((0,A.LW)("保存成功"),a());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),le=function(e){var t;e===J.jk.ffmpeg?t=r.createElement("div",null,"视频转换，rtsp播放器等媒体功能都需要这个软件。linux下你可以使用apt或者yum来安装，或者直接输入软件的位置"):e===J.jk.smartmontools?t=r.createElement("div",null,"磁盘检查需要这个软件。linux下你可以使用apt或者yum来安装，或者直接输入软件的位置。"):e===J.jk.ntfs_3g?t=r.createElement("div",null,"如果在linux需要挂载ntfs的硬盘，需要这个软件支持。"):"保护目录"===e?t=r.createElement("div",null,"在删除的时候保护目录会拒绝删除。",r.createElement("ul",null,r.createElement("li",null,"可以使用 /* 来表达该目录下所有文件都禁止删除"),r.createElement("li",null,"可以使用 /** 来表达该目录下所有子目录文件都禁止删除"))):"文件夹路径"===e?t=r.createElement("div",null,"用于在文件夹下切换根目录"):"环境路径"===e?t=r.createElement("div",null,"当在不同用户环境下运行的时候由于没有执行终端去加载PATH，这里可以添加额外的PATH路径，点击这里的保存还会更新系统上的path路径"):"pty"===e?t=r.createElement("div",null,"一些需要Pty环境的命令"):"文件上传"===e?t=r.createElement("div",null,r.createElement("li",null,"对于不同的目录(包括所有子目录)，可能是机械或者固态硬盘，机械硬盘在处理多个小文件的时候会做随机i/o,由于一般只有一个盘头所以会影响整体效率，特别是写操作，这里提供了上传时候的最大数量限制，对于下载数量目前不做限制."),r.createElement("li",null,"大文件支持断点和分块并发传输，建议并发数量设置为2，分块大小设置为10MB，大文件判断为500MB，设置过大的话会上传的时候会占据较大内存")):"快捷命令"===e&&(t=r.createElement("div",null,"右键文件夹空白处用于，打开终端快捷执行命令")),g({open:!0,title:"信息",context_div:r.createElement("div",null,t)})},de=function(){var e=me(se().m(function e(){return se().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.XO.post("env/path/save",{paths:M});case 1:e.v.code===u.m.Sucess&&((0,A.LW)("保存成功"),a());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return r.createElement(r.Fragment,null,r.createElement(o.J,{widthPer:100},r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,t("文件上传最大并发限制"))," ",r.createElement(d.rA,{icon:"info",onClick:function(){le("文件上传")},title:"信息"})),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:t("添加"),onClick:function(){G([].concat(ie(X),[{path:"",note:""}]))}}),r.createElement(d.rA,{icon:"save",title:t("保存"),onClick:oe}))},r.createElement(m.X,{headers:H,rows:X.map(function(e,n){var o=[r.createElement(f.Sm,{value:e.index,placeholder:n,handleInputChange:function(t){e.index=parseInt(t)},no_border:!0}),r.createElement(f.Sm,{value:e.path,handleInputChange:function(t){e.path=t},no_border:!0}),r.createElement(f.Sm,{value:e.user_upload_num,handleInputChange:function(t){e.user_upload_num=parseInt(t)},no_border:!0}),r.createElement(f.Sm,{value:e.sys_upload_num,handleInputChange:function(t){e.sys_upload_num=parseInt(t)},no_border:!0}),r.createElement(f.l6,{value:!0===e.open_ws_file,onChange:function(t){e.open_ws_file="true"===t,G(ie(X))},options:[{title:t("是"),value:!0},{title:t("否"),value:!1}],no_border:!0}),r.createElement(f.Sm,{value:"number"==typeof e.ws_file_standard_size?e.ws_file_standard_size/1024/1024:void 0,handleInputChange:function(t){e.ws_file_standard_size=1024*parseInt(t)*1024},no_border:!0}),r.createElement(f.Sm,{value:e.ws_file_parallel_num,handleInputChange:function(t){e.ws_file_parallel_num=parseInt(t)},no_border:!0}),r.createElement(f.Sm,{value:"number"==typeof e.ws_file_block_mb_size?e.ws_file_block_mb_size/1024/1024:void 0,handleInputChange:function(t){e.ws_file_block_mb_size=1024*parseInt(t)*1024},no_border:!0}),r.createElement(f.Sm,{value:e.note,handleInputChange:function(t){e.note=t},no_border:!0}),r.createElement(d.rA,{icon:"delete",title:t("删除"),onClick:function(){return function(e){X.splice(e,1),G(ie(X))}(n)}})];return o}),width:"10rem"}))),r.createElement(o.fI,null,r.createElement(o.VP,{widthPer:50},t("系统设置"),r.createElement(o.xh,null,r.createElement(s.uF,{title:t("外部软件"),titleCom:r.createElement(d.rA,{icon:"save",title:t("保存"),onClick:ae})},r.createElement(m.X,{headers:$,rows:y.map(function(e,n){return[r.createElement("div",null,e.id),r.createElement(s.fq,{ok:e.installed}),r.createElement(f.Sm,{value:e.path,handleInputChange:function(t){e.path=t},no_border:!0,placeholder:t("默认使用环境变量")}),r.createElement(d.rA,{icon:"info",onClick:function(){le(e.id)},title:"信息"})]}),width:"10rem"})),r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,t("PATH")),r.createElement(d.rA,{icon:"info",onClick:function(){le("环境路径")},title:"信息"})),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:t("添加"),onClick:function(){W([].concat(ie(M),[{path:"",note:""}]))}}),r.createElement(d.rA,{icon:"save",title:t("保存"),onClick:de}))},r.createElement(m.X,{headers:D,rows:M.map(function(e,n){var o=[r.createElement("div",null,n),r.createElement(f.Sm,{value:e.path,handleInputChange:function(t){e.path=t},no_border:!0}),r.createElement(f.Sm,{value:e.note,handleInputChange:function(t){e.note=t},no_border:!0}),r.createElement(d.rA,{icon:"delete",title:t("删除"),onClick:function(){return function(e){M.splice(e,1),W(ie(M))}(n)}})];return o}),width:"10rem"})),r.createElement(s.Zp,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,t("PTY CMD")),r.createElement(d.rA,{icon:"info",onClick:function(){le("pty")},title:"信息"})),rightBottomCom:r.createElement(d.C3,{text:t("更新"),clickFun:Y})},r.createElement(f.Sm,{placeholder:t("cmd need pty env"),value:B,handleInputChange:function(e){U(e)}})),r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,t("系统保护路径"))," ",r.createElement(d.rA,{icon:"info",onClick:function(){le("保护目录")},title:"信息"})),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:t("添加"),onClick:function(){I([].concat(ie(V),[{path:"",note:""}]))}}),r.createElement(d.rA,{icon:"save",title:t("保存"),onClick:re}))},r.createElement(m.X,{headers:K,rows:V.map(function(e,n){var o=[r.createElement("div",null,n),r.createElement(f.Sm,{value:e.path,handleInputChange:function(t){e.path=t},no_border:!0}),r.createElement(f.Sm,{value:e.note,handleInputChange:function(t){e.note=t},no_border:!0}),r.createElement(d.rA,{icon:"delete",title:t("删除"),onClick:function(){return function(e){V.splice(e,1),I(ie(V))}(n)}})];return o}),width:"10rem"})))),r.createElement(o.VP,null,t("个人设置"),r.createElement(o.xh,null,r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,t("文件夹路径"))," ",r.createElement(d.rA,{icon:"info",onClick:function(){le("文件夹路径")},title:"信息"})),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:t("添加"),onClick:function(){v([].concat(ie(_),[{note:"",default:!1,path:""}]))}}),r.createElement(d.rA,{icon:"save",title:t("保存"),onClick:ee}))},r.createElement(m.X,{headers:Z,rows:_.map(function(e,n){var o=[r.createElement("div",null,n),r.createElement(f.Sm,{value:e.path,handleInputChange:function(t){e.path=t},no_border:!0}),r.createElement(f.l6,{value:e.default,onChange:function(e){!function(e,t,n){for(var r=[],o=0;o<_.length;o++)_[o].default=o===n&&"true"===t,r.push(_[o]);v(r)}(0,e,n)},options:[{title:t("是"),value:!0},{title:t("否"),value:!1}],no_border:!0}),r.createElement(f.Sm,{value:e.note,handleInputChange:function(t){e.note=t},no_border:!0}),r.createElement("div",null,0!==n&&r.createElement(d.rA,{icon:"delete",title:t("删除"),onClick:function(){return function(e){_.splice(e,1),v(ie(_))}(n)}}))];return o}),width:"10rem"})),r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,t("个人保护路径"))," ",r.createElement(d.rA,{icon:"info",onClick:function(){le("保护目录")},title:"信息"})),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:t("添加"),onClick:function(){O([].concat(ie(k),[{path:"",note:""}]))}}),r.createElement(d.rA,{icon:"save",title:t("保存"),onClick:ne}))},r.createElement(m.X,{headers:K,rows:k.map(function(e,n){var o=[r.createElement("div",null,n),r.createElement(f.Sm,{value:e.path,handleInputChange:function(t){e.path=t},no_border:!0}),r.createElement(f.Sm,{value:e.note,handleInputChange:function(t){e.note=t},no_border:!0}),r.createElement(d.rA,{icon:"delete",title:t("删除"),onClick:function(){return function(e){k.splice(e,1),O(ie(k))}(n)}})];return o}),width:"10rem"})),r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,t("快捷命令")),r.createElement(d.rA,{icon:"info",onClick:function(){le("快捷命令")},title:"info"})),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:t("添加"),onClick:function(){T([].concat(ie(N),[{cmd:"",note:""}]))}}),r.createElement(d.rA,{icon:"save",title:t("保存"),onClick:te}))},r.createElement(m.X,{headers:q,rows:N.map(function(e,n){var o=[r.createElement(f.Sm,{value:e.index,handleInputChange:function(t){e.index=t},no_border:!0}),r.createElement(f.Sm,{value:e.cmd,handleInputChange:function(t){e.cmd=t},no_border:!0}),r.createElement(f.Sm,{value:e.father_index,handleInputChange:function(t){e.father_index=t},no_border:!0}),r.createElement(f.Sm,{value:e.note,handleInputChange:function(t){e.note=t},no_border:!0}),r.createElement(d.rA,{icon:"delete",title:t("删除"),onClick:function(){return function(e){N.splice(e,1),T(ie(N))}(n)}})];return o}),width:"10rem"}))))))}var ye=n(1499);function be(e){var t=(0,p.Bd)(),n=t.t;t.i18n;return r.createElement(r.Fragment,null,r.createElement("h3",null,n("功能权限")),r.createElement("div",{className:"checkbox_container"},r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.user_manage),checked:e.is_selected(a.oV.user_manage),onChange:function(){e.select_auth(a.oV.user_manage)}}),n("用户管理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.role_manage),checked:e.is_selected(a.oV.role_manage),onChange:function(){e.select_auth(a.oV.role_manage)}}),n("角色管理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.sys_process_close),checked:e.is_selected(a.oV.sys_process_close),onChange:function(){e.select_auth(a.oV.sys_process_close)}}),n("系统进程关闭")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.docker_container_update),checked:e.is_selected(a.oV.docker_container_update),onChange:function(){e.select_auth(a.oV.docker_container_update)}}),n("docker容器停止、删除")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.docker_images_delete),checked:e.is_selected(a.oV.docker_images_delete),onChange:function(){e.select_auth(a.oV.docker_images_delete)}}),n("docker镜像删除")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.systemd_update),checked:e.is_selected(a.oV.systemd_update),onChange:function(){e.select_auth(a.oV.systemd_update)}}),n("systemd删除、添加管理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.vir_net),checked:e.is_selected(a.oV.vir_net),onChange:function(){e.select_auth(a.oV.vir_net)}}),n("虚拟网络")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.token_update),checked:e.is_selected(a.oV.token_update),onChange:function(){e.select_auth(a.oV.token_update)}}),n("token时间修改")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.code_auth),checked:e.is_selected(a.oV.code_auth),onChange:function(){e.select_auth(a.oV.code_auth)}}),n("自定义auth")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.code_resource),checked:e.is_selected(a.oV.code_resource),onChange:function(){e.select_auth(a.oV.code_resource)}}),n("自定义资源路由")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.code_api),checked:e.is_selected(a.oV.code_api),onChange:function(){e.select_auth(a.oV.code_api)}}),n("自定义api路由")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.update_password),checked:e.is_selected(a.oV.update_password),onChange:function(){e.select_auth(a.oV.update_password)}}),n("修改密码")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.sys_disk_mount),checked:e.is_selected(a.oV.sys_disk_mount),onChange:function(){e.select_auth(a.oV.sys_disk_mount)}}),n("磁盘挂载")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.ddns),checked:e.is_selected(a.oV.ddns),onChange:function(){e.select_auth(a.oV.ddns)}}),"ddns"),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.outside_software_path),checked:e.is_selected(a.oV.outside_software_path),onChange:function(){e.select_auth(a.oV.outside_software_path)}}),n("外部软件路径")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.filecat_file_context_update),checked:e.is_selected(a.oV.filecat_file_context_update),onChange:function(){e.select_auth(a.oV.filecat_file_context_update)}}),n("内容更新")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.shell_cmd_check),checked:e.is_selected(a.oV.shell_cmd_check),onChange:function(){e.select_auth(a.oV.shell_cmd_check)}}),n("shell命令检测")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.env_path_update),checked:e.is_selected(a.oV.env_path_update),onChange:function(){e.select_auth(a.oV.env_path_update)}}),n("PATH路径修改")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.pty_cmd_update),checked:e.is_selected(a.oV.pty_cmd_update),onChange:function(){e.select_auth(a.oV.pty_cmd_update)}}),"pty cmd "+n("更新")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.sys_protection_dir),checked:e.is_selected(a.oV.sys_protection_dir),onChange:function(){e.select_auth(a.oV.sys_protection_dir)}}),n("系统保护路径更新")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.workflow_exe),checked:e.is_selected(a.oV.workflow_exe),onChange:function(){e.select_auth(a.oV.workflow_exe)}}),n("workflow ")+n("执行")),r.createElement("div",null,r.createElement("input",{type:"checkbox",checked:e.is_selected(a.oV.workflow_exe_user,!0),onChange:function(){e.select_auth(a.oV.workflow_exe_user)}}),n("workflow ")+n("执行用户")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.workflow_api),checked:e.is_selected(a.oV.workflow_api),onChange:function(){e.select_auth(a.oV.workflow_api)}}),n("workflow触发api 修改")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.dir_upload_max_num),checked:e.is_selected(a.oV.dir_upload_max_num),onChange:function(){e.select_auth(a.oV.dir_upload_max_num)}}),n("目录文件上传数量限制修改")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.sys_env_setting_key),checked:e.is_selected(a.oV.sys_env_setting_key),onChange:function(){e.select_auth(a.oV.sys_env_setting_key)}}),n("通用设置"))),r.createElement("h3",null,n("文件权限")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.filecat_file_delete_cut_rename),checked:e.is_selected(a.oV.filecat_file_delete_cut_rename),onChange:function(){e.select_auth(a.oV.filecat_file_delete_cut_rename)}}),n("文件删除、剪切、重命名")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.filecat_file_context_update_upload_created_copy_decompression),checked:e.is_selected(a.oV.filecat_file_context_update_upload_created_copy_decompression),onChange:function(){e.select_auth(a.oV.filecat_file_context_update_upload_created_copy_decompression)}}),n("文件创建、上传、内容更新、解压缩")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.recycle_file_save),checked:e.is_selected(a.oV.recycle_file_save),onChange:function(){e.select_auth(a.oV.recycle_file_save)}}),n("文件回收站修改")),r.createElement("h3",null,n("标签编辑权限")),r.createElement("div",{className:"checkbox_container"},r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.net_site_tag_update),checked:e.is_selected(a.oV.net_site_tag_update),onChange:function(){e.select_auth(a.oV.net_site_tag_update)}}),n("网址")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.ssh_proxy_tag_update),checked:e.is_selected(a.oV.ssh_proxy_tag_update),onChange:function(){e.select_auth(a.oV.ssh_proxy_tag_update)}}),n("ssh代理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.http_proxy_tag_update),checked:e.is_selected(a.oV.http_proxy_tag_update),onChange:function(){e.select_auth(a.oV.http_proxy_tag_update)}}),n("http代理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.browser_proxy_tag_update),checked:e.is_selected(a.oV.browser_proxy_tag_update),onChange:function(){e.select_auth(a.oV.browser_proxy_tag_update)}}),n("浏览器代理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.rdp_proxy_tag_update),checked:e.is_selected(a.oV.rdp_proxy_tag_update),onChange:function(){e.select_auth(a.oV.rdp_proxy_tag_update)}}),n("rdp代理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.wol_proxy_tag_update),checked:e.is_selected(a.oV.wol_proxy_tag_update),onChange:function(){e.select_auth(a.oV.wol_proxy_tag_update)}}),n("网络唤醒")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.rtsp_proxy_tag_update),checked:e.is_selected(a.oV.rtsp_proxy_tag_update),onChange:function(){e.select_auth(a.oV.rtsp_proxy_tag_update)}}),n("rtsp播放器")),r.createElement("h3",null,n("工具功能")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.ssh_proxy),checked:e.is_selected(a.oV.ssh_proxy),onChange:function(){e.select_auth(a.oV.ssh_proxy)}}),n("ssh代理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.http_proxy),checked:e.is_selected(a.oV.http_proxy),onChange:function(){e.select_auth(a.oV.http_proxy)}}),n("http代理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.http_proxy_download_cancel),checked:e.is_selected(a.oV.http_proxy_download_cancel),onChange:function(){e.select_auth(a.oV.http_proxy_download_cancel)}}),n("http代理下载关闭")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.browser_proxy),checked:e.is_selected(a.oV.browser_proxy),onChange:function(){e.select_auth(a.oV.browser_proxy)}}),n("浏览器代理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.rdp_proxy),checked:e.is_selected(a.oV.rdp_proxy),onChange:function(){e.select_auth(a.oV.rdp_proxy)}}),n("rdp代理")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.wol_proxy),checked:e.is_selected(a.oV.wol_proxy),onChange:function(){e.select_auth(a.oV.wol_proxy)}}),n("网络唤醒")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.rtsp_proxy),checked:e.is_selected(a.oV.rtsp_proxy),onChange:function(){e.select_auth(a.oV.rtsp_proxy)}}),n("rtsp播放器")),r.createElement("div",null,r.createElement("input",{type:"checkbox",disabled:e.is_disable(a.oV.crypto_ssh_file),checked:e.is_selected(a.oV.crypto_ssh_file),onChange:function(){e.select_auth(a.oV.crypto_ssh_file)}}),n("ssh密钥保存到磁盘"))))}function Ee(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return we(u,"_invoke",function(n,r,o){var a,c,i,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,c=0,i=e,f.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!d&&u&&!o&&t<s.length;t++){var o,a=s[t],m=f.p,p=a[2];n>3?(o=p===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,f.v=r,f.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,c=0))}if(o||n>1)return l;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!d;){a||(c?c<3?(c>1&&(f.n=-1),m(c,i)):f.n=i:f.v=i);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==l)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(we(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,we(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,we(d,"constructor",u),we(u,"constructor",i),i.displayName="GeneratorFunction",we(u,o,"GeneratorFunction"),we(d),we(d,o,"Generator"),we(d,r,function(){return this}),we(d,"toString",function(){return"[object Generator]"}),(ge=function(){return{w:a,m:f}})()}function we(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}we=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){we(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},we(e,t,n,r)}function ke(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ae(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}function Se(e,t,n,r,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function xe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){Se(a,r,o,l,c,"next",e)}function c(e){Se(a,r,o,l,c,"throw",e)}l(void 0)})}}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||Ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var je=new Map;function Ve(){var e,t,n,l=(0,p.Bd)(),c=l.t,_=(l.i18n,(0,r.useContext)(Q.F)),v=(_.initUserInfo,_.reloadUserInfo,Ce((0,S.L4)(x.A.user_base_info),2)),h=(v[0],v[1],Ce((0,r.useState)([]),2)),y=h[0],b=h[1],E=Ce((0,S.L4)(x.A.prompt_card),2),g=(E[0],E[1],Ce((0,r.useState)(!1),2)),w=g[0],k=g[1],C=Ce((0,r.useState)(!1),2),O=C[0],j=C[1],V=Ce((0,S.L4)(x.A.confirm),2),I=(V[0],V[1]),P=Ce((0,r.useState)(""),2),N=P[0],T=P[1],F=Ce((0,r.useState)(""),2),X=F[0],G=F[1],L=Ce((0,r.useState)(""),2),M=L[0],W=L[1],z=Ce((0,r.useState)([]),2),B=z[0],U=z[1],Z=Ce((0,r.useState)([]),2),$=Z[0],K=Z[1],q=Ce((0,r.useState)([]),2),D=q[0],H=q[1],R=Ce((0,r.useState)(""),2),J=R[0],Y=R[1],ee=Ce((0,r.useState)("en"),2),te=ee[0],ne=ee[1],re=Ce((0,r.useState)([]),2),oe=re[0],ae=re[1],le=Ce((0,r.useState)(""),2),ie=le[0],ue=le[1],se=Ce((0,r.useState)(!1),2),de=se[0],fe=se[1],me=Ce((0,r.useState)(""),2),pe=me[0],_e=me[1],ve=Ce((0,r.useState)(""),2),he=ve[0],we=ve[1],Se=Ce((0,r.useState)({}),2),Ae=Se[0],Oe=Se[1],Ve=Ce((0,r.useState)([]),2),Ie=Ve[0],Pe=Ve[1],Ne=[c("用户id"),c("用户名"),c("目录范围"),c("备注")],Te=function(){var e=xe(ge().m(function e(){var t,n,r,o,a;return ge().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.wm.get("all_users");case 1:return(t=e.v).code===u.m.Sucess&&b(t.data),e.n=2,i.wm.get("all_roles");case 2:if((n=e.v).code===u.m.Sucess){Pe(n.data),je.clear(),r=ke(n.data);try{for(r.s();!(o=r.n()).done;)a=o.value,je.set(a.role_id,a)}catch(e){r.e(e)}finally{r.f()}}case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Fe=function(e){var t,n,r,o,a,l,c,i,u,s,d,f,m;(T(null!==(t=null==e?void 0:e.username)&&void 0!==t?t:""),G(null!==(n=null==e?void 0:e.password)&&void 0!==n?n:""),W(null!==(r=null==e?void 0:e.cwd)&&void 0!==r?r:""),U(null!==(o=null==e?void 0:e.access_dirs)&&void 0!==o?o:[]),K(null!==(a=null==e?void 0:e.not_access_dirs)&&void 0!==a?a:[]),H(null!==(l=null==e?void 0:e.only_read_dirs)&&void 0!==l?l:[]),Y(null!==(c=null==e?void 0:e.access_cmd)&&void 0!==c?c:""),ne(null!==(i=null==e?void 0:e.language)&&void 0!==i?i:""),ae(null!==(u=null==e?void 0:e.auth_list)&&void 0!==u?u:[]),ue(null!==(s=null==e?void 0:e.note)&&void 0!==s?s:""),fe(null!==(d=null==e?void 0:e.is_root)&&void 0!==d&&d),_e(null!==(f=null==e?void 0:e.id)&&void 0!==f?f:""),null!=e&&e.bind_role_id)?Xe(e.bind_role_id,null!==(m=e.auth_list)&&void 0!==m?m:[]):(we(""),Oe({}))};(0,r.useEffect)(function(){Te()},[]);var Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return we(""),void Oe({});var n=je.get(e);if(n){if(n.cwd&&W(n.cwd),n.access_dirs&&n.access_dirs.length>0&&U(n.access_dirs),n.not_access_dirs&&n.not_access_dirs.length>0&&K(n.not_access_dirs),n.only_read_dirs&&n.only_read_dirs.length>0&&H(n.only_read_dirs),n.access_cmd&&Y(n.access_cmd),n.language&&ne(n.language),n.auth_list&&n.auth_list.length>0){var r,o=new Set(n.auth_list),a=ke(t);try{for(a.s();!(r=a.n()).done;){var l=r.value;o.add(l)}}catch(e){a.e(e)}finally{a.f()}ae(Array.from(o))}we(e),Oe(n)}},Ge=function(){if(N)if((0,ye.CB)(N))(0,A.zN)("username not empty char");else{if(M){var e=new a.E0;return e.language=te,e.access_dirs=B,e.username=N,e.password=X,e.not_access_dirs=$,e.only_read_dirs=D,e.cwd=M,e.note=ie,e.access_cmd=J,e.auth_list=oe,e.bind_role_id=he,e}(0,A.zN)("cwd not empty")}else(0,A.zN)("username not empty")},Le=function(){var e=xe(ge().m(function e(){var t,n;return ge().w(function(e){for(;;)switch(e.n){case 0:if(X){e.n=1;break}return(0,A.zN)("password not empty"),e.a(2);case 1:if(!(0,ye.CB)(X)){e.n=2;break}return(0,A.zN)("username not empty char"),e.a(2);case 2:return t=Ge(),e.n=3,i.wm.post("create_user",t);case 3:n=e.v,Te(),n.code===u.m.Sucess&&((0,A.LW)("创建完成"),Te(),k(!1),j(!1),Fe(void 0));case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=xe(ge().m(function e(){var t;return ge().w(function(e){for(;;)switch(e.n){case 0:if(t=Ge()){e.n=1;break}return e.a(2);case 1:return t.id=pe,e.n=2,i.wm.post("save_user",t);case 2:e.v.code===u.m.Sucess&&((0,A.LW)("保存完成"),Te());case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),We=function(){var e=xe(ge().m(function e(t){return ge().w(function(e){for(;;)switch(e.n){case 0:I({open:!0,title:"确定删除吗",handle:function(){var e=xe(ge().m(function e(){var n;return ge().w(function(e){for(;;)switch(e.n){case 0:return(n=new a.E0).username=t,e.n=1,i.wm.post("delete_user",n);case 1:e.v.code===u.m.Sucess&&((0,A.LW)("删除完成"),Te(),I({open:!1,handle:null}));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return r.createElement(o.fI,null,r.createElement(o.VP,{widthPer:50},r.createElement(o.xh,null,r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,c("用户"))),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:c("添加"),onClick:function(){k(!0),j(!1),Fe(void 0)}}))},r.createElement(m.X,{headers:Ne,rows:y.map(function(e,t){return[r.createElement("p",null,e.id),r.createElement(s.xP,null,e.username),r.createElement(s.xP,null,e.cwd),r.createElement(s.xP,null,e.note),r.createElement("div",null,r.createElement(d.rA,{icon:"edit",title:c("编辑"),onClick:function(){return function(e){k(!1),j(!0),Fe(e)}(e)}}),!e.is_root&&r.createElement(d.rA,{icon:"delete",title:c("删除"),onClick:function(){return We(e.username)}}))]}),width:"10rem"})))),r.createElement(o.VP,{widthPer:50},(w||O)&&r.createElement(o.xh,null,r.createElement(s.Zp,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,c("".concat(w?"添加":"编辑")))," "),rightBottomCom:r.createElement("div",null,r.createElement(d.rA,{icon:"cancel",title:c("取消"),onClick:function(){k(!1),j(!1),Fe(void 0)}}),w&&r.createElement(d.rA,{icon:"add_circle",title:c("添加"),onClick:Le}),O&&r.createElement(d.rA,{icon:"save",title:c("保存"),onClick:Me}))},r.createElement("label",null,c("用户名")),r.createElement(f.Sm,{value:N,handleInputChange:function(e){return T(e)}}),r.createElement("label",null,c("密码")),r.createElement(f.Sm,{value:X,handleInputChange:function(e){return G(e)}}),r.createElement("label",null,!(null!=Ae&&null!==(e=Ae.access_dirs)&&void 0!==e&&e.length)&&r.createElement(d.rA,{icon:"add",onClick:function(){U([].concat(Ee(B),[""]))},title:"添加"}),c("目录范围")),r.createElement(f.Sm,{disabled:""!==Ae.cwd&&void 0!==Ae.cwd,value:M,handleInputChange:function(e){return W(e)}}),(null!=B?B:[]).map(function(e,t){var n,o,a,l;return r.createElement("div",{key:t,style:{display:"flex"}},r.createElement("div",{style:{width:"90%"}},r.createElement(f.Sm,{disabled:0!==(null==Ae||null===(n=Ae.access_dirs)||void 0===n?void 0:n.length)&&void 0!==(null==Ae||null===(o=Ae.access_dirs)||void 0===o?void 0:o.length),value:e,handleInputChange:function(e){B[t]=e,U(Ee(B))}})),0===(null==Ae||null===(a=Ae.access_dirs)||void 0===a?void 0:a.length)||void 0===(null==Ae||null===(l=Ae.access_dirs)||void 0===l?void 0:l.length)&&r.createElement(d.rA,{icon:"delete",onClick:function(){B.splice(t,1),U(Ee(B))},title:c("删除")}))}),r.createElement("label",null,!(null!=Ae&&null!==(t=Ae.not_access_dirs)&&void 0!==t&&t.length)&&r.createElement(d.rA,{icon:"add",onClick:function(){K([].concat(Ee($),[""]))},title:c("添加")}),c("禁止目录范围")),(null!=$?$:[]).map(function(e,t){var n,o,a,l;return r.createElement("div",{key:t,style:{display:"flex"}},r.createElement("div",{style:{width:"90%"}},r.createElement(f.Sm,{disabled:0!==(null==Ae||null===(n=Ae.not_access_dirs)||void 0===n?void 0:n.length)&&void 0!==(null==Ae||null===(o=Ae.not_access_dirs)||void 0===o?void 0:o.length),value:e,handleInputChange:function(e){$[t]=e,K(Ee($))}})),0===(null==Ae||null===(a=Ae.not_access_dirs)||void 0===a?void 0:a.length)||void 0===(null==Ae||null===(l=Ae.not_access_dirs)||void 0===l?void 0:l.length)&&r.createElement(d.rA,{icon:"delete",onClick:function(){$.splice(t,1),K(Ee($))},title:c("删除")}))}),r.createElement("label",null,!(null!=Ae&&null!==(n=Ae.only_read_dirs)&&void 0!==n&&n.length)&&r.createElement(d.rA,{icon:"add",onClick:function(){H([].concat(Ee(D),[""]))},title:c("添加")}),c("只读目录范围")),(null!=D?D:[]).map(function(e,t){var n,o,a,l;return r.createElement("div",{key:t,style:{display:"flex"}},r.createElement("div",{style:{width:"90%"}},r.createElement(f.Sm,{disabled:0!==(null==Ae||null===(n=Ae.only_read_dirs)||void 0===n?void 0:n.length)&&void 0!==(null==Ae||null===(o=Ae.only_read_dirs)||void 0===o?void 0:o.length),value:e,handleInputChange:function(e){D[t]=e,H(Ee(D))}})),0===(null==Ae||null===(a=Ae.only_read_dirs)||void 0===a?void 0:a.length)||void 0===(null==Ae||null===(l=Ae.only_read_dirs)||void 0===l?void 0:l.length)&&r.createElement(d.rA,{icon:"delete",onClick:function(){D.splice(t,1),H(Ee(D))},title:c("删除")}))}),r.createElement("label",null,c("可执行的命令")),r.createElement(f.Sm,{disabled:""!==Ae.access_cmd&&void 0!==Ae.access_cmd,value:J,placeholder:"use blank split",handleInputChange:function(e){return Y(e)}}),!de&&r.createElement(r.Fragment,null,r.createElement("label",null,c("角色")),r.createElement(f.l6,{value:he,onChange:function(e){Xe(e)},options:function(){var e=[];e.push({title:"NOT",value:""});var t,n=ke(Ie);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push({title:r.role_name,value:r.role_id})}}catch(e){n.e(e)}finally{n.f()}return e}()})),r.createElement("label",null,c("语言")),r.createElement(f.l6,{disabled:""!==Ae.language&&void 0!==Ae.language,value:te,onChange:function(e){ne(e)},options:[{title:"English",value:"en"},{title:"中文",value:"zh"}]}),r.createElement("p",{className:"small"},c("标签编辑是所有人都可见的的数据")),r.createElement(be,{is_disable:function(e){if(!0===de)return!0;if(he){var t,n=je.get(he);if(n)return(null!==(t=n.auth_list)&&void 0!==t?t:[]).includes(e)}return!1},is_selected:function(e,t){return!t&&!0===de||void 0!==(null==oe?void 0:oe.find(function(t){return t===e}))},select_auth:function(e){oe?oe.includes(e)?((0,ce.I)(oe,function(t){return t===e}),ae(Ee(oe))):ae([].concat(Ee(oe),[e])):ae([e])}}),r.createElement("label",null,c("备注")),r.createElement(f.Sm,{value:ie,handleInputChange:function(e){return ue(e)}})))))}function Ie(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return Ne(u,"_invoke",function(n,r,o){var a,c,i,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,c=0,i=e,f.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!d&&u&&!o&&t<s.length;t++){var o,a=s[t],m=f.p,p=a[2];n>3?(o=p===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,f.v=r,f.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,c=0))}if(o||n>1)return l;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!d;){a||(c?c<3?(c>1&&(f.n=-1),m(c,i)):f.n=i:f.v=i);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==l)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ne(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Ne(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,Ne(d,"constructor",u),Ne(u,"constructor",i),i.displayName="GeneratorFunction",Ne(u,o,"GeneratorFunction"),Ne(d),Ne(d,o,"Generator"),Ne(d,r,function(){return this}),Ne(d,"toString",function(){return"[object Generator]"}),(Pe=function(){return{w:a,m:f}})()}function Ne(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ne=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){Ne(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},Ne(e,t,n,r)}function Te(e,t,n,r,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function Fe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){Te(a,r,o,l,c,"next",e)}function c(e){Te(a,r,o,l,c,"throw",e)}l(void 0)})}}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||Ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){if(e){if("string"==typeof e)return Le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Me(){var e=(0,p.Bd)(),t=e.t,n=(e.i18n,(0,r.useContext)(Q.F)),l=(n.initUserInfo,n.reloadUserInfo,Xe((0,r.useState)([]),2)),c=l[0],_=l[1],v=Xe((0,S.L4)(x.A.prompt_card),2),h=(v[0],v[1],Xe((0,r.useState)(!1),2)),y=h[0],b=h[1],E=Xe((0,r.useState)(!1),2),g=E[0],w=E[1],k=Xe((0,S.L4)(x.A.confirm),2),C=(k[0],k[1]),O=Xe((0,r.useState)(""),2),j=O[0],V=O[1],I=Xe((0,r.useState)(""),2),P=I[0],N=I[1],T=Xe((0,r.useState)([]),2),F=T[0],X=T[1],G=Xe((0,r.useState)([]),2),L=G[0],M=G[1],W=Xe((0,r.useState)([]),2),z=W[0],B=W[1],U=Xe((0,r.useState)(""),2),Z=U[0],$=U[1],K=Xe((0,r.useState)(""),2),q=K[0],D=K[1],H=Xe((0,r.useState)([]),2),R=H[0],J=H[1],Y=Xe((0,r.useState)(""),2),ee=Y[0],te=Y[1],ne=Xe((0,r.useState)(""),2),re=ne[0],oe=ne[1],ae=[t("角色id"),t("角色名"),t("备注")],le=function(){var e=Fe(Pe().m(function e(){var t;return Pe().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i.wm.get("all_roles");case 1:(t=e.v).code===u.m.Sucess&&_(t.data);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ie=function(e){var t,n,r,o,a,l,c,i,u,s;V(null!==(t=null==e?void 0:e.role_name)&&void 0!==t?t:""),N(null!==(n=null==e?void 0:e.cwd)&&void 0!==n?n:""),X(null!==(r=null==e?void 0:e.access_dirs)&&void 0!==r?r:[]),M(null!==(o=null==e?void 0:e.not_access_dirs)&&void 0!==o?o:[]),B(null!==(a=null==e?void 0:e.only_read_dirs)&&void 0!==a?a:[]),$(null!==(l=null==e?void 0:e.access_cmd)&&void 0!==l?l:""),D(null!==(c=null==e?void 0:e.language)&&void 0!==c?c:""),J(null!==(i=null==e?void 0:e.auth_list)&&void 0!==i?i:[]),te(null!==(u=null==e?void 0:e.role_id)&&void 0!==u?u:""),oe(null!==(s=null==e?void 0:e.role_note)&&void 0!==s?s:"")};(0,r.useEffect)(function(){le()},[]);var ue=function(){if(j){var e=new a.E0;return e.language=q,e.access_dirs=F,e.role_name=j,e.not_access_dirs=L,e.only_read_dirs=z,e.cwd=P,e.access_cmd=Z,e.auth_list=R,e.role_note=re,e}(0,A.zN)("role_name not empty")},se=function(){var e=Fe(Pe().m(function e(){var t,n;return Pe().w(function(e){for(;;)switch(e.n){case 0:if(t=ue()){e.n=1;break}return e.a(2);case 1:return e.n=2,i.wm.post("create_role",t);case 2:n=e.v,le(),n.code===u.m.Sucess&&((0,A.LW)("创建完成"),le(),b(!1),w(!1),ie(void 0));case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Fe(Pe().m(function e(){var t;return Pe().w(function(e){for(;;)switch(e.n){case 0:if(t=ue()){e.n=1;break}return e.a(2);case 1:return t.role_id=ee,e.n=2,i.wm.post("save_role",t);case 2:e.v.code===u.m.Sucess&&((0,A.LW)("保存完成"),le());case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Fe(Pe().m(function e(t){return Pe().w(function(e){for(;;)switch(e.n){case 0:C({open:!0,title:"确定删除吗",handle:function(){var e=Fe(Pe().m(function e(){var n;return Pe().w(function(e){for(;;)switch(e.n){case 0:return(n=new a.E0).role_id=t,e.n=1,i.wm.post("delete_role",n);case 1:e.v.code===u.m.Sucess&&((0,A.LW)("删除完成"),le(),C({open:!1,handle:null}));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return r.createElement(o.fI,null,r.createElement(o.VP,{widthPer:50},r.createElement(o.xh,null,r.createElement(s.uF,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,t("角色"))),titleCom:r.createElement("div",null,r.createElement(d.rA,{icon:"add",title:t("添加"),onClick:function(){b(!0),w(!1),ie(void 0)}}))},r.createElement(m.X,{headers:ae,rows:c.map(function(e,n){return[r.createElement("p",null,e.role_id),r.createElement(s.xP,null,e.role_name),r.createElement(s.xP,null,e.role_note),r.createElement("div",null,r.createElement(d.rA,{icon:"edit",title:t("编辑"),onClick:function(){return function(e){b(!1),w(!0),ie(e)}(e)}}),!e.is_root&&r.createElement(d.rA,{icon:"delete",title:t("删除"),onClick:function(){return fe(e.role_id)}}))]}),width:"10rem"})))),r.createElement(o.VP,{widthPer:50},(y||g)&&r.createElement(o.xh,null,r.createElement(s.Zp,{self_title:r.createElement("span",{className:" div-row "},r.createElement("h2",null,t("".concat(y?"添加":"编辑")))," "),rightBottomCom:r.createElement("div",null,r.createElement(d.rA,{icon:"cancel",title:t("取消"),onClick:function(){b(!1),w(!1),ie(void 0)}}),y&&r.createElement(d.rA,{icon:"add_circle",title:t("添加"),onClick:se}),g&&r.createElement(d.rA,{icon:"save",title:t("保存"),onClick:de}))},r.createElement("label",null,t("角色名")),r.createElement(f.Sm,{value:j,handleInputChange:function(e){return V(e)}}),r.createElement("label",null,t("角色备注")),r.createElement(f.Sm,{value:re,handleInputChange:function(e){return oe(e)}}),r.createElement("label",null,r.createElement(d.rA,{icon:"add",onClick:function(){X([].concat(Ie(F),[""]))},title:"添加"}),t("目录范围")),r.createElement(f.Sm,{value:P,handleInputChange:function(e){return N(e)}}),(null!=F?F:[]).map(function(e,t){return r.createElement("div",{key:t,style:{display:"flex"}},r.createElement("div",{style:{width:"90%"}},r.createElement(f.Sm,{value:e,handleInputChange:function(e){F[t]=e,X(Ie(F))}})),r.createElement(d.rA,{icon:"delete",onClick:function(){F.splice(t,1),X(Ie(F))},title:"删除"}))}),r.createElement("label",null,r.createElement(d.rA,{icon:"add",onClick:function(){M([].concat(Ie(L),[""]))},title:"添加"}),t("禁止目录范围")),(null!=L?L:[]).map(function(e,n){return r.createElement("div",{key:n,style:{display:"flex"}},r.createElement("div",{style:{width:"90%"}},r.createElement(f.Sm,{value:e,handleInputChange:function(e){L[n]=e,M(Ie(L))}})),r.createElement(d.rA,{icon:"delete",onClick:function(){L.splice(n,1),M(Ie(L))},title:t("删除")}))}),r.createElement("label",null,r.createElement(d.rA,{icon:"add",onClick:function(){B([].concat(Ie(z),[""]))},title:t("添加")}),t("只读目录范围")),(null!=z?z:[]).map(function(e,t){return r.createElement("div",{key:t,style:{display:"flex"}},r.createElement("div",{style:{width:"90%"}},r.createElement(f.Sm,{value:e,handleInputChange:function(e){z[t]=e,B(Ie(z))}})),r.createElement(d.rA,{icon:"delete",onClick:function(){z.splice(t,1),B(Ie(z))},title:"删除"}))}),r.createElement("label",null,t("可执行的命令")),r.createElement(f.Sm,{value:Z,placeholder:"use blank split",handleInputChange:function(e){return $(e)}}),r.createElement("label",null,t("语言")),r.createElement(f.l6,{value:q,onChange:function(e){D(e)},options:[{title:"NOT",value:""},{title:"English",value:"en"},{title:"中文",value:"zh"}]}),r.createElement("p",{className:"small"},t("标签编辑是所有人都可见的的数据")),r.createElement(be,{is_disable:function(){return!1},is_selected:function(e,t){return void 0!==(null==R?void 0:R.find(function(t){return t===e}))},select_auth:function(e){R?(R.find(function(t){return t==e})?(0,ce.I)(R,function(t){return t===e}):R.push(e),J(Ie(R))):J([e])}})))))}function We(){var e=(0,p.Bd)().t,t=(0,C.MH)().check_user_auth,n=[{index:1,name:e("系统"),rto:"password/"},{index:1,name:e("环境"),rto:"env_setting/"},{index:1,name:e("自定义路由"),rto:"customer_router/"}];return t(a.oV.user_manage)&&n.push({index:1,name:e("用户管理"),rto:"user_manager/"}),t(a.oV.role_manage)&&n.push({index:1,name:e("角色管理"),rto:"role_manager/"}),r.createElement(o.W1,{optionList:n},r.createElement(le,null),r.createElement(he,null),r.createElement(D,null),t(a.oV.user_manage)&&r.createElement(Ve,null),t(a.oV.role_manage)&&r.createElement(Me,null))}}}]);